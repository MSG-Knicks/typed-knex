"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const chai_1 = require("chai");
const knex_1 = require("knex");
const src_1 = require("../../src");
const decorators_1 = require("../../src/decorators");
const typedKnex_1 = require("../../src/typedKnex");
const unflatten_1 = require("../../src/unflatten");
const testTables_1 = require("../testTables");
describe("TypedKnexQueryBuilder", () => {
    it('should return select * from "users"', (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users"');
        done();
    });
    it('should return select "id" from "users"', (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).select("id");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."id" as "id" from "users"');
        done();
    });
    it("should return camelCase correctly", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).select("initialValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "userSettings"."initialValue" as "initialValue" from "userSettings"');
        done();
    });
    it("should create query with where on column of own table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).where("name", "user1");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" = \'user1\'');
        done();
    });
    it("should create query with Date column", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).select("birthDate").where("birthDate", new Date(1979, 0, 1));
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."birthDate" as "birthDate" from "users" where "users"."birthDate" = \'1979-01-01 00:00:00.000\'');
        done();
    });
    it("should create query with array column", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).select("tags").where("tags", ["tag1"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."tags" as "tags" from "users" where "users"."tags" = \'{"tag1"}\'');
        done();
    });
    it("should create query with where on column of own table with LIKE", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).where("name", "like", "%user%");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" like \'%user%\'');
        done();
    });
    it("should handle nullable properties", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.query(testTables_1.UserCategory).select("phoneNumber").where("phoneNumber", "user1").select("backupRegion.code").toQuery();
        done();
    });
    it("should handle nullable level 2 properties", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.query(testTables_1.User).select("category.phoneNumber").where("category.phoneNumber", "user1");
        done();
    });
    it("should create query with where not on column of own table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereNot("name", "user1");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where not "users"."name" = \'user1\'');
        done();
    });
    it("should add granularity to from clause in query", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User, "NOLOCK").select("id", "name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."id" as "id", "users"."name" as "name" from "users" WITH (NOLOCK)');
        done();
    });
    it("should join a table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).innerJoinColumn("user");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "user" on "user"."id" = "userSettings"."userId"');
        done();
    });
    it("should join a table and select a column of joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).select("user.name").innerJoinColumn("user");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "user"."name" as "user.name" from "userSettings" inner join "users" as "user" on "user"."id" = "userSettings"."userId"');
        done();
    });
    it("should join a table and use where on a column of joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).where("user.name", "user1").innerJoinColumn("user");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "user" on "user"."id" = "userSettings"."userId" where "user"."name" = \'user1\'');
        done();
    });
    it("should add granularity to join clause in query on a column of joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).where("user.name", "user1").innerJoinColumn("user", "NOLOCK");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "user" WITH (NOLOCK) on "user"."id" = "userSettings"."userId" where "user"."name" = \'user1\'');
        done();
    });
    it("should join two level of tables", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).innerJoinColumn("user").innerJoinColumn("user.category");
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            'select * from "userSettings" inner join "users" as "user" on "user"."id" = "userSettings"."userId" inner join "userCategories" as "user_category" on "user_category"."id" = "user"."categoryId"'
        );
        done();
    });
    it("should join three level of tables", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).innerJoinColumn("user.category.region");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "regions" as "user_category_region" on "user_category_region"."id" = "user_category"."regionId"');
        done();
    });
    it("should join two levels of tables and select a column of the last joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).select("user.category.name").innerJoinColumn("user.category");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "user_category"."name" as "user.category.name" from "userSettings" inner join "userCategories" as "user_category" on "user_category"."id" = "user"."categoryId"');
        done();
    });
    it("should join three levels of tables and select a column of the last joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).select("user.category.region.code").innerJoinColumn("user.category.region");
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            'select "user_category_region"."code" as "user.category.region.code" from "userSettings" inner join "regions" as "user_category_region" on "user_category_region"."id" = "user_category"."regionId"'
        );
        done();
    });
    it("should join two levels of tables and use where on a column of last joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).where("user.category.name", "user1").innerJoinColumn("user.category");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "userCategories" as "user_category" on "user_category"."id" = "user"."categoryId" where "user_category"."name" = \'user1\'');
        done();
    });
    it("should join three levels of tables and use where on a column of last joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).where("user.category.region.code", 2).innerJoinColumn("user.category.region");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "regions" as "user_category_region" on "user_category_region"."id" = "user_category"."regionId" where "user_category_region"."code" = 2');
        done();
    });
    it("should inner join with function with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).innerJoinTableOnFunction("otherUser", testTables_1.User, (join) => {
            join.on("id", "=", "user2Id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."id"');
        done();
    });
    it("should inner join with function with other table and use order by on joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.UserSetting)
            .innerJoinTableOnFunction("otherUser", testTables_1.User, (join) => {
                join.on("id", "=", "user2Id");
            })
            .orderBy("otherUser.name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."id" order by "otherUser"."name" asc');
        done();
    });
    it("should inner join with function with other tables and use order by on joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.UserSetting)
            .innerJoinTableOnFunction("otherUser", testTables_1.User, (join) => {
                join.on("id", "=", "user2Id");
            })
            .innerJoinTableOnFunction("otherCategory", testTables_1.UserCategory, (join) => {
                join.on("id", "=", "otherUser.categoryId");
            })
            .orderBy("otherCategory.name");
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            'select * from "userSettings" inner join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."id" inner join "userCategories" as "otherCategory" on "otherUser"."categoryId" = "otherCategory"."id" order by "otherCategory"."name" asc'
        );
        done();
    });
    it("should inner join with function with other table using correct column name", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).innerJoinTableOnFunction("otherUser", testTables_1.User, (join) => {
            join.on("status", "=", "user2Id").andOnVal("status", "=", "status1").andOn("status", "=", "otherValue");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            `select * from "userSettings" inner join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."weirdDatabaseName" and "otherUser"."weirdDatabaseName" = 'status1' and "userSettings"."other_value" = "otherUser"."weirdDatabaseName"`
        );
        done();
    });
    it("should inner join with function with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).innerJoin("otherUser", testTables_1.User, "nickName", "=", "value");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "otherUser" on "otherUser"."nickName" = "userSettings"."value"');
        done();
    });
    it("should inner join with other table with name attribute", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).innerJoin("otherUser", testTables_1.User, "status", "=", "otherValue").where("otherUser.status", "status1").where("otherValue", "other value");
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            'select * from "userSettings" inner join "users" as "otherUser" on "otherUser"."weirdDatabaseName" = "userSettings"."other_value" where "otherUser"."weirdDatabaseName" = \'status1\' and "userSettings"."other_value" = \'other value\''
        );
        done();
    });
    it("should add granularity to inner join with function with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting, "ROWLOCK").innerJoin("otherUser", testTables_1.User, "NOLOCK", "nickName", "=", "value");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" WITH (ROWLOCK) inner join "users" as "otherUser" WITH (NOLOCK) on "otherUser"."nickName" = "userSettings"."value"');
        done();
    });
    it("should left outer join with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).leftOuterJoin("otherUser", testTables_1.User, "nickName", "=", "value");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" on "otherUser"."nickName" = "userSettings"."value"');
        done();
    });
    it("should left outer join with other table with name attribute", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).leftOuterJoin("otherUser", testTables_1.User, "status", "=", "otherValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" on "otherUser"."weirdDatabaseName" = "userSettings"."other_value"');
        done();
    });
    it("should add granularity to left outer join with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).leftOuterJoin("otherUser", testTables_1.User, "NOLOCK", "nickName", "=", "value");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" WITH (NOLOCK) on "otherUser"."nickName" = "userSettings"."value"');
        done();
    });
    it("should left outer join with other tables", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.UserSetting)
            .leftOuterJoin("otherUser", testTables_1.User, "status", "=", "otherValue")
            .leftOuterJoin("otherUser.otherOtherUser", testTables_1.User, "status", "=", "otherUser.status")
            .select("otherUser.otherOtherUser.name");
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            'select "otherUser_otherOtherUser"."name" as "otherUser.otherOtherUser.name" from "userSettings" left outer join "users" as "otherUser" on "otherUser"."weirdDatabaseName" = "userSettings"."other_value" left outer join "users" as "otherUser_otherOtherUser" on "otherUser_otherOtherUser"."weirdDatabaseName" = "otherUser"."weirdDatabaseName"'
        );
        done();
    });
    it("should select 2 columns at once", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).select("id", "name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."id" as "id", "users"."name" as "name" from "users"');
        done();
    });
    it("should select 2 columns at once from parent", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).select("user.id", "user.name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "user"."id" as "user.id", "user"."name" as "user.name" from "userSettings"');
        done();
    });
    it("should select raw query", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).selectRaw("subQuery", Number, "select other.id from other");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select (select other.id from other) as "subQuery" from "users"');
        done();
    });
    it("should select raw query with sql bindings", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).selectRaw("subQuery", Number, "select ?? from other where ?? like ?", "other.id", "other.name", "%test%");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select (select "other"."id" from other where "other"."name" like \'%test%\') as "subQuery" from "users"');
        done();
    });
    it("should create query with AND in where clause", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).where("name", "user1").andWhere("name", "user2").andWhere("name", "like", "%user%");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" = \'user1\' and "users"."name" = \'user2\' and "users"."name" like \'%user%\'');
        done();
    });
    it("should create query with OR in where clause", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).where("name", "user1").orWhere("name", "user2").orWhere("name", "like", "%user%");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" = \'user1\' or "users"."name" = \'user2\' or "users"."name" like \'%user%\'');
        done();
    });
    it("should create query with where in", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereIn("name", ["user1", "user2"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" in (\'user1\', \'user2\')');
        done();
    });
    it("should create query with where not in", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereNotIn("name", ["user1", "user2"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" not in (\'user1\', \'user2\')');
        done();
    });
    it("should create query with where between", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereBetween("numericValue", [1, 10]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."numericValue" between 1 and 10');
        done();
    });
    it("should create query with where not between", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereNotBetween("numericValue", [1, 10]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."numericValue" not between 1 and 10');
        done();
    });
    it("should create query with where exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereExists(testTables_1.UserSetting, (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, `select * from "users" where exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")`);
        done();
    });
    it("should add granularity to where exists query", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereExists(testTables_1.UserSetting, "NOLOCK", (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, `select * from "users" where exists (select * from "userSettings" as "subquery0$userSettings" WITH (NOLOCK) where "subquery0$userSettings"."userId" = "users"."id")`);
        done();
    });
    it("should create query with where exists with column name mapping", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereExists(testTables_1.UserSetting, (subQuery) => {
            subQuery.innerJoinColumn("user");
            subQuery.whereColumn("user.notUndefinedStatus", "=", "notUndefinedStatus");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            `select * from "users" where exists (select * from "userSettings" as "subquery0$userSettings" inner join "users" as "subquery0$user" on "subquery0$user"."id" = "subquery0$userSettings"."userId" where "subquery0$user"."weirdDatabaseName2" = "users"."weirdDatabaseName2")`
        );
        done();
    });
    it("should create query with or where exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.User)
            .where("name", "name")
            .orWhereExists(testTables_1.UserSetting, (subQuery) => {
                subQuery.whereColumn("userId", "=", "id");
            });
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            'select * from "users" where "users"."name" = \'name\' or exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")'
        );
        done();
    });
    it("should create query with where not exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereNotExists(testTables_1.UserSetting, (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where not exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")');
        done();
    });
    it("should create query with or where not exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.User)
            .where("name", "name")
            .orWhereNotExists(testTables_1.UserSetting, (subQuery) => {
                subQuery.whereColumn("userId", "=", "id");
            });
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            'select * from "users" where "users"."name" = \'name\' or not exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")'
        );
        done();
    });
    it("should create query with where raw", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereRaw("?? = ??", "users.id", "users.name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."id" = "users"."name"');
        done();
    });
    it("should create query with group by", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).select("someValue").selectRaw("total", Number, 'SUM("numericValue")').groupBy("someValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."someValue" as "someValue", (SUM("numericValue")) as "total" from "users" group by "users"."someValue"');
        done();
    });
    it("should create query with having", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).having("numericValue", ">", 10);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."numericValue" > 10');
        done();
    });
    it("should create query with having null", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).havingNull("numericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."numericValue" is null');
        done();
    });
    it("should create query with having not null", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).havingNotNull("numericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."numericValue" is not null');
        done();
    });
    it("should create query with having in", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).havingIn("name", ["user1", "user2"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."name" in (\'user1\', \'user2\')');
        done();
    });
    it("should create query with having not in", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).havingNotIn("name", ["user1", "user2"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."name" not in (\'user1\', \'user2\')');
        done();
    });
    it("should create query with having exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).havingExists(testTables_1.UserSetting, (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")');
        done();
    });
    it("should create query with having not exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).havingNotExists(testTables_1.UserSetting, (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having not exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")');
        done();
    });
    it("should create query with having raw", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).havingRaw("?? = ??", "users.id", "users.name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."id" = "users"."name"');
        done();
    });
    it("should create query with having between", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).havingBetween("numericValue", [1, 10]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."numericValue" between 1 and 10');
        done();
    });
    it("should create query with having not between", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).havingNotBetween("numericValue", [1, 10]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."numericValue" not between 1 and 10');
        done();
    });
    it("should create query with an union", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.User)
            .select("id")
            .union(testTables_1.User, (subQuery) => {
                subQuery.select("id").where("numericValue", 12);
            });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."id" as "id" from "users" union select "users"."id" as "id" from "users" where "users"."numericValue" = 12');
        done();
    });
    it("should add granularity to a union query", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.User)
            .select("id")
            .union(testTables_1.User, "ROWLOCK", (subQuery) => {
                subQuery.select("id").where("numericValue", 12);
            });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."id" as "id" from "users" union select "users"."id" as "id" from "users" WITH (ROWLOCK) where "users"."numericValue" = 12');
        done();
    });
    it("should create query with an union all", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.User)
            .select("id")
            .unionAll(testTables_1.User, (subQuery) => {
                subQuery.select("id").where("numericValue", 12);
            });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."id" as "id" from "users" union all select "users"."id" as "id" from "users" where "users"."numericValue" = 12');
        done();
    });
    it("should add granularity to a union all query", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.User, "NOLOCK")
            .select("id")
            .unionAll(testTables_1.User, "NOLOCK", (subQuery) => {
                subQuery.select("id").where("numericValue", 12);
            });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."id" as "id" from "users" WITH (NOLOCK) union all select "users"."id" as "id" from "users" WITH (NOLOCK) where "users"."numericValue" = 12');
        done();
    });
    it("should create query with min", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).min("numericValue", "minNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select min("users"."numericValue") as "minNumericValue" from "users"');
        done();
    });
    it("should create query with count", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).count("numericValue", "countNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select count("users"."numericValue") as "countNumericValue" from "users"');
        done();
    });
    it("should create query with countDistinct", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).countDistinct("numericValue", "countDistinctNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select count(distinct "users"."numericValue") as "countDistinctNumericValue" from "users"');
        done();
    });
    it("should create query with max", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).max("numericValue", "maxNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select max("users"."numericValue") as "maxNumericValue" from "users"');
        done();
    });
    it("should create query with two max", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).max("numericValue", "maxNumericValue").max("someValue", "maxSomeValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select max("users"."numericValue") as "maxNumericValue", max("users"."someValue") as "maxSomeValue" from "users"');
        done();
    });
    it("should create query with sum", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).sum("numericValue", "sumNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select sum("users"."numericValue") as "sumNumericValue" from "users"');
        done();
    });
    it("should create query with sumDistinct", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).sumDistinct("numericValue", "sumDistinctNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select sum(distinct "users"."numericValue") as "sumDistinctNumericValue" from "users"');
        done();
    });
    it("should create query with avg", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).avg("numericValue", "avgNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select avg("users"."numericValue") as "avgNumericValue" from "users"');
        done();
    });
    it("should create query with avgDistinct", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).avgDistinct("numericValue", "avgDistinctNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select avg(distinct "users"."numericValue") as "avgDistinctNumericValue" from "users"');
        done();
    });
    it("should create query with order by", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).orderBy("id");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" order by "users"."id" asc');
        done();
    });
    it("should clear select", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).select("id").clearSelect();
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users"');
        done();
    });
    it("should clear where", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).where("name", "user1").clearWhere();
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users"');
        done();
    });
    it("should clear order", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).orderBy("id").clearOrder();
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users"');
        done();
    });
    it("should create query with distinct", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).select("id").distinct();
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select distinct "users"."id" as "id" from "users"');
        done();
    });
    it("should clone and adjust only the clone", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).select("id");
        const clonedQuery = query.clone();
        clonedQuery.select("name");
        chai_1.assert.equal(query.toQuery(), 'select "users"."id" as "id" from "users"');
        chai_1.assert.equal(clonedQuery.toQuery(), 'select "users"."id" as "id", "users"."name" as "name" from "users"');
        done();
    });
    it("should maintain granularity to clone", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User, "NOLOCK").select("id");
        const clonedQuery = query.clone();
        clonedQuery.select("name");
        chai_1.assert.equal(query.toQuery(), 'select "users"."id" as "id" from "users" WITH (NOLOCK)');
        chai_1.assert.equal(clonedQuery.toQuery(), 'select "users"."id" as "id", "users"."name" as "name" from "users" WITH (NOLOCK)');
        done();
    });
    it("should create query with groupby raw", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).groupByRaw("year WITH ROLLUP");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" group by year WITH ROLLUP');
        done();
    });
    it("should create query with or where in", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereIn("name", ["user1", "user2"]).orWhereIn("name", ["user3", "user4"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" in (\'user1\', \'user2\') or "users"."name" in (\'user3\', \'user4\')');
        done();
    });
    it("should create query with or where not in", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereNotIn("name", ["user1", "user2"]).orWhereNotIn("name", ["user3", "user4"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" not in (\'user1\', \'user2\') or "users"."name" not in (\'user3\', \'user4\')');
        done();
    });
    it("should create query with or where between", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereBetween("numericValue", [1, 10]).orWhereBetween("numericValue", [100, 1000]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."numericValue" between 1 and 10 or "users"."numericValue" between 100 and 1000');
        done();
    });
    it("should create query with or where not between", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereNotBetween("numericValue", [1, 10]).orWhereNotBetween("numericValue", [100, 1000]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."numericValue" not between 1 and 10 or "users"."numericValue" not between 100 and 1000');
        done();
    });
    it("should create query with parentheses in where", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.User)
            .whereParentheses((sub) => sub.where("id", "1").orWhere("id", "2"))
            .orWhere("name", "Tester");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where ("users"."id" = \'1\' or "users"."id" = \'2\') or "users"."name" = \'Tester\'');
        done();
    });
    it("should create query with parentheses in orWhere", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.User)
            .where("name", "=", "Tester")
            .orWhereParentheses((sub) => sub.whereNotNull("someNullableValue").andWhere("numericValue", ">", 20));
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" = \'Tester\' or ("users"."someNullableValue" is not null and "users"."numericValue" > 20)');
        done();
    });
    it("should return metadata from tables", (done) => {
        const tables = (0, src_1.getTables)();
        chai_1.assert.equal(tables.length, 5);
        chai_1.assert.exists(tables.find((i) => i.tableName === "users"));
        chai_1.assert.exists(tables.find((i) => i.tableName === "correctTableName"));
        done();
    });
    it("should create query with where null", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereNull("name").orWhereNull("name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" is null or "users"."name" is null');
        done();
    });
    it("should create query with where not null", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereNotNull("name").orWhereNotNull("name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" is not null or "users"."name" is not null');
        done();
    });
    it("should left outer join a table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).leftOuterJoinColumn("user");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "user" on "user"."id" = "userSettings"."userId"');
        done();
    });
    it("should add granularity to left outer column join", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).leftOuterJoinColumn("user", "ROWLOCK");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "user" WITH (ROWLOCK) on "user"."id" = "userSettings"."userId"');
        done();
    });
    it("should return camelCase correctly", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).select("initialValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "userSettings"."initialValue" as "initialValue" from "userSettings"');
        done();
    });
    it("should left outer join with function with itself", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).leftOuterJoinTableOnFunction("evilTwin", testTables_1.UserSetting, (join) => {
            join.on("id", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "userSettings" as "evilTwin" on "userSettings"."id" = "evilTwin"."id"');
        done();
    });
    it("should left outer join with function with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).leftOuterJoinTableOnFunction("otherUser", testTables_1.User, (join) => {
            join.on("id", "=", "user2Id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."id"');
        done();
    });
    it("should left outer join with function with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).leftOuterJoinTableOnFunction("otherUser", testTables_1.User, (join) => {
            join.on("id", "=", "user2Id").onNull("name");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."id" and "otherUser"."name" is null');
        done();
    });
    it("should left outer join with function with other table with on and on or on", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).leftOuterJoinTableOnFunction("otherUser", testTables_1.User, (join) => {
            join.on("id", "=", "user2Id").andOn("name", "=", "user2Id").orOn("someValue", "=", "user2Id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            'select * from "userSettings" left outer join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."id" and "userSettings"."user2Id" = "otherUser"."name" or "userSettings"."user2Id" = "otherUser"."someValue"'
        );
        done();
    });
    it("should left outer join with function with other table with onVal", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).leftOuterJoinTableOnFunction("otherUser", testTables_1.User, (join) => {
            join.onVal("name", "=", "1").andOnVal("name", "=", "2").orOnVal("name", "=", "3");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" on "otherUser"."name" = \'1\' and "otherUser"."name" = \'2\' or "otherUser"."name" = \'3\'');
        done();
    });
    it("should be able to use joined column in another leftOuterJoinTableOnFunction", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.UserSetting)
            .leftOuterJoinTableOnFunction("evilTwin", testTables_1.UserSetting, (join) => {
                join.on("id", "=", "id");
            })
            .leftOuterJoinTableOnFunction("evilTwin2", testTables_1.UserSetting, (join) => {
                join.on("id", "=", "evilTwin.id");
            });
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            'select * from "userSettings" left outer join "userSettings" as "evilTwin" on "userSettings"."id" = "evilTwin"."id" left outer join "userSettings" as "evilTwin2" on "evilTwin"."id" = "evilTwin2"."id"'
        );
        done();
    });
    it("should left outer join with function with other table with an column alias", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserCategory).leftOuterJoinTableOnFunction("specialRegion", testTables_1.Region, (join) => {
            join.on("id", "=", "specialRegionId");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userCategories" left outer join "regions" as "specialRegion" on "userCategories"."INTERNAL_NAME" = "specialRegion"."id"');
        done();
    });
    it("should add granularity to left outer join with function with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).leftOuterJoinTableOnFunction("otherUser", testTables_1.User, "NOLOCK", (join) => {
            join.on("id", "=", "user2Id").onNull("name");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" WITH (NOLOCK) on "userSettings"."user2Id" = "otherUser"."id" and "otherUser"."name" is null');
        done();
    });
    it('should return select * from "users"', (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).limit(10);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" limit 10');
        done();
    });
    it('should return select * from "users"', (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).offset(10);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" offset 10');
        done();
    });
    it("should let useKnexQueryBuilder add to query", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User);
        query.useKnexQueryBuilder((queryBuilder) => queryBuilder.where("somethingelse", "value"));
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "somethingelse" = \'value\'');
        done();
    });
    it("should let getKnexQueryBuilder add to query", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User);
        const knexQuery = query.getKnexQueryBuilder();
        knexQuery.where("somethingelse", "value");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "somethingelse" = \'value\'');
        done();
    });
    it("should removeNullObjects", (done) => {
        const result = {
            id: "id",
            "element.id": null,
            "element.category.id": null,
            "unit.category.id": null,
            "category.name": "cat name",
        };
        const flattened = (0, unflatten_1.unflatten)([result]);
        chai_1.assert.isNull(flattened[0].element.id);
        chai_1.assert.isNull(flattened[0].unit.category.id);
        chai_1.assert.equal(flattened[0].category.name, "cat name");
        const nulled = (0, unflatten_1.setToNull)(flattened);
        chai_1.assert.isNull(nulled[0].element);
        chai_1.assert.equal(nulled[0].category.name, "cat name");
        chai_1.assert.isNull(nulled[0].unit);
        done();
    });
    it("should return sub query in select", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.UserCategory)
            .select("id")
            .selectQuery("total", Number, testTables_1.User, (subQuery) => {
                subQuery.count("id", "total").whereColumn("categoryId", "=", "id");
            });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "userCategories"."id" as "id", (select count("users"."id") as "total" from "users" where "users"."categoryId" = "userCategories"."id") as "total" from "userCategories"');
        done();
    });
    it("should left outer join with function with and in on", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.UserSetting).leftOuterJoinTableOnFunction("evilTwin", testTables_1.UserSetting, (join) => {
            join.on("id", "=", "id");
            join.on("key", "=", "key");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "userSettings" as "evilTwin" on "userSettings"."id" = "evilTwin"."id" and "userSettings"."key" = "evilTwin"."key"');
        done();
    });
    it("should left outer join with function and selection of joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex
            .query(testTables_1.UserSetting)
            .leftOuterJoinTableOnFunction("evilTwin", testTables_1.UserSetting, (join) => {
                join.on("id", "=", "id");
            })
            .where("evilTwin.value", "value")
            .select("evilTwin.key");
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            'select "evilTwin"."key" as "evilTwin.key" from "userSettings" left outer join "userSettings" as "evilTwin" on "userSettings"."id" = "evilTwin"."id" where "evilTwin"."value" = \'value\''
        );
        done();
    });
    it("should get name of the table", (done) => {
        const tableName = (0, src_1.getTableName)(testTables_1.User);
        chai_1.assert.equal(tableName, "users");
        done();
    });
    it("should get name of the column", (done) => {
        const columnName = (0, decorators_1.getColumnName)(testTables_1.User, "id");
        chai_1.assert.equal(columnName, "id");
        done();
    });
    it("should insert a select", async () => {
        const k = (0, knex_1.knex)({ client: "postgresql" });
        const typedKnex = new typedKnex_1.TypedKnex(k);
        const query = typedKnex.query(testTables_1.User);
        try {
            await query.selectRaw("f", String, "'fixedValue'").select("name").distinct().whereNotNull("name").insertSelect(testTables_1.UserSetting, "id", "initialValue");
        } catch (_e) {
            chai_1.assert.equal(
                query.toQuery(),
                `insert into "userSettings" ("userSettings"."id","userSettings"."initialValue") select distinct ('fixedValue') as "f", "users"."name" as "name" from "users" where "users"."name" is not null`
            );
        }
    });
    it("should create query with order by raw", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).orderByRaw("SUM(??) DESC", "users.year");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" order by SUM("users"."year") DESC');
        done();
    });
    it("should create query with where in with subquery", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereExists(testTables_1.UserSetting, (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")');
        done();
    });
    it("should create insert query with returning all", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.insertItemWithReturning({ id: "newId" });
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("id") values ('newId') returning *`);
    });
    it("should create insert query with returning 1 column", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.insertItemWithReturning({ id: "newId" }, ["status"]);
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("id") values ('newId') returning "users"."weirdDatabaseName"`);
    });
    it("should create insert query with returning 2 column", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.insertItemWithReturning({ id: "newId" }, ["status", "id"]);
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("id") values ('newId') returning "users"."weirdDatabaseName", "users"."id"`);
    });
    it("should create insert query", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.insertItem({ id: "newId" });
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("id") values ('newId')`);
    });
    it("should create insert query with column name mapping", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.insertItem({ status: "newStatus" });
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("weirdDatabaseName") values ('newStatus')`);
    });
    it("should create multiple insert queries", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.insertItems([{ id: "newId1" }, { id: "newId2" }]);
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("id") values ('newId1'), ('newId2')`);
    });
    it("should create multiple insert queries with column name mapping", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.insertItems([{ status: "newStatus1" }, { status: "newStatus2" }]);
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("weirdDatabaseName") values ('newStatus1'), ('newStatus2')`);
    });
    it("should create update query", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.updateItem({ id: "newId" });
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "id" = 'newId'`);
    });
    it("should create update query with returning", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.updateItemWithReturning({ id: "newId" });
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "id" = 'newId' returning *`);
    });
    it("should create update query with column name mapping", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.updateItem({ status: "newStatus" });
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "weirdDatabaseName" = 'newStatus'`);
    });
    it("should create update query by id", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.updateItemByPrimaryKey("userId", { name: "newName" });
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "name" = 'newName' where "id" = 'userId'`);
    });
    it("should create update query by id with column name mapping", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.updateItemByPrimaryKey("userId", { status: "newStatus" });
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "weirdDatabaseName" = 'newStatus' where "id" = 'userId'`);
    });
    it("should create multiple update queries by id", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.updateItemsByPrimaryKey([
            { primaryKeyValue: "userId1", data: { name: "newName1" } },
            { primaryKeyValue: "userId2", data: { name: "newName2" } },
        ]);
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "name" = 'newName1' where "id" = 'userId1';\nupdate "users" set "name" = 'newName2' where "id" = 'userId2';`);
    });
    it("should create multiple update queries by id with column name mapping", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.updateItemsByPrimaryKey([
            { primaryKeyValue: "userId1", data: { status: "newStatus1" } },
            { primaryKeyValue: "userId2", data: { status: "newStatus2" } },
        ]);
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "weirdDatabaseName" = 'newStatus1' where "id" = 'userId1';\nupdate "users" set "weirdDatabaseName" = 'newStatus2' where "id" = 'userId2';`);
    });
    it("should create findByPrimaryKey query", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.User);
        query.onlyLogQuery = true;
        await query.findByPrimaryKey("1", "id", "name");
        chai_1.assert.equal(query.queryLog.trim(), `select "users"."id" as "id", "users"."name" as "name" from "users" where "id" = '1'`);
    });
    it("should select * when querybuilder has no select specified", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users"');
        done();
    });
    it("getMany should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getMany();
        chai_1.assert.equal(
            query.queryLog.trim(),
            `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`
        );
    });
    it("getFirst should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getFirst();
        chai_1.assert.equal(
            query.queryLog.trim(),
            `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`
        );
    });
    it("getFirstOrNull should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getFirstOrNull();
        chai_1.assert.equal(
            query.queryLog.trim(),
            `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`
        );
    });
    it("getFirstOrUndefined should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getFirstOrUndefined();
        chai_1.assert.equal(
            query.queryLog.trim(),
            `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`
        );
    });
    it("getSingle should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getSingle();
        chai_1.assert.equal(
            query.queryLog.trim(),
            `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`
        );
    });
    it("getSingleOrNull should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getSingleOrNull();
        chai_1.assert.equal(
            query.queryLog.trim(),
            `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`
        );
    });
    it("getSingleOrUndefined should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getSingleOrUndefined();
        chai_1.assert.equal(
            query.queryLog.trim(),
            `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`
        );
    });
    it("should handle where exists on same table as main table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereExists(testTables_1.User, (subQuery) => {
            subQuery.whereColumn("status", "=", "status").whereColumn("id", "<>", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            `select * from "users" where exists (select * from "users" as "subquery0$users" where "subquery0$users"."weirdDatabaseName" = "users"."weirdDatabaseName" and "subquery0$users"."id" <> "users"."id")`
        );
        done();
    });
    it("should handle two levels of where exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User).whereExists(testTables_1.User, (subQuery) => {
            subQuery.whereColumn("status", "=", "status").whereColumn("id", "<>", "id");
            subQuery.whereExists(testTables_1.User, (subQuery2) => {
                subQuery2.whereColumn("status", "=", "status").whereColumn("id", "<>", "id");
            });
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            `select * from "users" where exists (select * from "users" as "subquery0$users" where "subquery0$users"."weirdDatabaseName" = "users"."weirdDatabaseName" and "subquery0$users"."id" <> "users"."id" and exists (select * from "users" as "subquery0$subquery0$users" where "subquery0$subquery0$users"."weirdDatabaseName" = "subquery0$users"."weirdDatabaseName" and "subquery0$subquery0$users"."id" <> "subquery0$users"."id"))`
        );
        done();
    });
    it("getSingleOrNull should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getSingleOrNull();
        chai_1.assert.equal(
            query.queryLog.trim(),
            `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`
        );
    });
    it("getSingleOrUndefined should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testTables_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getSingleOrUndefined();
        chai_1.assert.equal(
            query.queryLog.trim(),
            `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`
        );
    });
    it("should get correct column for nested queries", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        let nestedStatusColumnName;
        let nestedUserCategoryYear;
        const query = typedKnex.query(testTables_1.User).whereExists(testTables_1.User, (subQuery) => {
            subQuery.innerJoinColumn("category").select("category.id").select("status");
            nestedStatusColumnName = subQuery.getColumnAlias("status");
            nestedUserCategoryYear = subQuery.getColumnAlias("category.year");
        });
        query.toQuery();
        chai_1.assert.equal(nestedStatusColumnName, '"subquery0$users"."weirdDatabaseName"');
        chai_1.assert.equal(nestedUserCategoryYear, '"subquery0$category"."year"');
        done();
    });
    it("should be able to refer to main query in raw where exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User);
        query.whereExists(testTables_1.User, (subQuery) => {
            subQuery.whereColumn("status", "=", "status").whereColumn("id", "<>", "id").whereRaw(`EXISTS (SELECT 1 FROM users as users2 WHERE ${query.getColumnAlias(
                "status"
            )} = users2."weirdDatabaseName" AND ${query.getColumnAlias("id")} <> users2."id")
            `);
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            `select * from "users" where exists (select * from "users" as "subquery0$users" where "subquery0$users"."weirdDatabaseName" = "users"."weirdDatabaseName" and "subquery0$users"."id" <> "users"."id" and EXISTS (SELECT 1 FROM users as users2 WHERE "users"."weirdDatabaseName" = users2."weirdDatabaseName" AND "users"."id" <> users2."id")
            )`
        );
        done();
    });
    it("should be able to refer to main query in where exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        const query = typedKnex.query(testTables_1.User);
        query.whereExists(testTables_1.User, (subQuery1) => {
            subQuery1.whereColumn("status", "=", "status"); // Compares subQuery1 with its parent (query)
            subQuery1.whereExists(testTables_1.User, (subQuery2) => {
                subQuery2.whereColumn(subQuery2.getColumn("status"), "=", query.getColumn("status")); // Compares subQuery2 with the first parent (query)
                subQuery2.whereExists(testTables_1.User, (subQuery3) => {
                    subQuery3.whereColumn(subQuery3.getColumn("status"), "=", subQuery1.getColumn("status")); // Compares subQuery3 with the second parent (subQuery1)
                });
            });
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(
            queryString,
            `select * from "users" where exists (select * from "users" as "subquery0$users" where "subquery0$users"."weirdDatabaseName" = "users"."weirdDatabaseName" and exists (select * from "users" as "subquery0$subquery0$users" where "subquery0$subquery0$users"."weirdDatabaseName" = "users"."weirdDatabaseName" and exists (select * from "users" as "subquery0$subquery0$subquery0$users" where "subquery0$subquery0$subquery0$users"."weirdDatabaseName" = "subquery0$users"."weirdDatabaseName")))`
        );
        done();
    });
    describe("getColumnAlias", () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        it("should return root column name", async () => {
            const query = typedKnex.query(testTables_1.UserCategory);
            chai_1.assert.equal(query.getColumnAlias("id"), '"userCategories"."id"');
        });
        it("should return root column name with mapped name", async () => {
            const query = typedKnex.query(testTables_1.UserCategory);
            chai_1.assert.equal(query.getColumnAlias("specialRegionId"), '"userCategories"."INTERNAL_NAME"');
        });
        it("should return named joined column name", async () => {
            const query = typedKnex.query(testTables_1.UserCategory).innerJoin("user", testTables_1.User, "categoryId", "=", "id");
            chai_1.assert.equal(query.getColumnAlias("user.id"), '"user"."id"');
        });
        it("should return named joined column name with mapped name", async () => {
            const query = typedKnex.query(testTables_1.UserCategory).innerJoin("user", testTables_1.User, "categoryId", "=", "id");
            chai_1.assert.equal(query.getColumnAlias("user.status"), '"user"."weirdDatabaseName"');
        });
        it("should return two levels joined column name", async () => {
            const query = typedKnex.query(testTables_1.User).innerJoinColumn("category").innerJoinColumn("category.region");
            chai_1.assert.equal(query.getColumnAlias("category.region.code"), '"category_region"."code"');
        });
        it("should return select with alias", async () => {
            const query = typedKnex.query(testTables_1.UserCategory);
            query.selectRaw("hash", String, `hashFunction(${query.getColumnAlias("name")})`).select("id");
            const queryString = query.toQuery();
            chai_1.assert.equal(queryString, 'select (hashFunction("userCategories"."name")) as "hash", "userCategories"."id" as "id" from "userCategories"');
        });
    });
    describe("distinctOn", () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        it("should distinct on 1 column", (done) => {
            const query = typedKnex.query(testTables_1.UserCategory).select("id").distinctOn(["name"]);
            const queryString = query.toQuery();
            chai_1.assert.equal(queryString, 'select distinct on ("userCategories"."name") "userCategories"."id" as "id" from "userCategories"');
            done();
        });
        it("should distinct on 2 columns", (done) => {
            const query = typedKnex.query(testTables_1.UserCategory).select("id").distinctOn(["name", "phoneNumber"]);
            const queryString = query.toQuery();
            chai_1.assert.equal(queryString, 'select distinct on ("userCategories"."name", "userCategories"."phoneNumber") "userCategories"."id" as "id" from "userCategories"');
            done();
        });
        it("should distinct on 1 column with mapping", (done) => {
            const query = typedKnex.query(testTables_1.UserCategory).select("id").distinctOn(["specialRegionId"]);
            const queryString = query.toQuery();
            chai_1.assert.equal(queryString, 'select distinct on ("userCategories"."INTERNAL_NAME") "userCategories"."id" as "id" from "userCategories"');
            done();
        });
        it("should distinct on columns with join and with mapping", (done) => {
            const query = typedKnex.query(testTables_1.User).innerJoin("category", testTables_1.UserCategory, "id", "=", "categoryId").select("id").distinctOn(["name", "category.id", "category.specialRegionId"]);
            const queryString = query.toQuery();
            chai_1.assert.equal(
                queryString,
                'select distinct on ("users"."name", "category"."id", "category"."INTERNAL_NAME") "users"."id" as "id" from "users" inner join "userCategories" as "category" on "category"."id" = "users"."categoryId"'
            );
            done();
        });
    });
    describe("mapPropertyNameToColumnName", () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        it("should return aliased name", async () => {
            const query = typedKnex.query(testTables_1.UserCategory);
            const columnName = query.mapPropertyNameToColumnName("specialRegionId");
            chai_1.assert.equal(columnName, "INTERNAL_NAME");
        });
        it("should return name when no alias", async () => {
            const query = typedKnex.query(testTables_1.UserCategory);
            const columnName = query.mapPropertyNameToColumnName("name");
            chai_1.assert.equal(columnName, "name");
        });
    });
    describe("mapColumnNameToPropertyName", () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        it("should return aliased name", async () => {
            const query = typedKnex.query(testTables_1.UserCategory);
            const columnName = query.mapColumnNameToPropertyName("INTERNAL_NAME");
            chai_1.assert.equal(columnName, "specialRegionId");
        });
        it("should return name when no alias", async () => {
            const query = typedKnex.query(testTables_1.UserCategory);
            const columnName = query.mapColumnNameToPropertyName("name");
            chai_1.assert.equal(columnName, "name");
        });
    });
    describe("mapColumnsToProperties", () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        it("should map", async () => {
            const query = typedKnex.query(testTables_1.UserCategory);
            const item = { INTERNAL_NAME: "internal name", name: "name" };
            query.mapColumnsToProperties(item);
            chai_1.assert.deepEqual(item, { specialRegionId: "internal name", name: "name" });
        });
    });
    describe("mapPropertiesToColumns", () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        it("should map", async () => {
            const query = typedKnex.query(testTables_1.UserCategory);
            const item = { specialRegionId: "internal name", name: "name" };
            query.mapPropertiesToColumns(item);
            chai_1.assert.deepEqual(item, { INTERNAL_NAME: "internal name", name: "name" });
        });
    });
    describe("updateItemWithReturning", () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        it("should use where clause", async () => {
            const query = typedKnex.query(testTables_1.User);
            query.onlyLogQuery = true;
            await query.where("name", "name1").updateItemWithReturning({ id: "newId" });
            chai_1.assert.equal(query.queryLog.trim(), `update "users" set "id" = 'newId' where "users"."name" = 'name1' returning *`);
        });
    });
    describe("registerBeforeUpdateTransform", () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        afterEach(() => {
            (0, typedKnex_1.registerBeforeUpdateTransform)(undefined);
        });
        it("should change item to when using updateItem", async () => {
            const query = typedKnex.query(testTables_1.User);
            (0, typedKnex_1.registerBeforeUpdateTransform)((item) => {
                return Object.assign(Object.assign({}, item), { name: "name override" });
            });
            query.onlyLogQuery = true;
            await query.where("name", "name1").updateItem({ id: "newId" });
            chai_1.assert.equal(query.queryLog.trim(), `update "users" set "id" = 'newId', "name" = 'name override' where "users"."name" = 'name1'`);
        });
        it("should change item to when using updateItemWithReturning", async () => {
            const query = typedKnex.query(testTables_1.User);
            (0, typedKnex_1.registerBeforeUpdateTransform)((item) => {
                return Object.assign(Object.assign({}, item), { name: "name override" });
            });
            query.onlyLogQuery = true;
            await query.where("name", "name1").updateItemWithReturning({ id: "newId" });
            chai_1.assert.equal(query.queryLog.trim(), `update "users" set "id" = 'newId', "name" = 'name override' where "users"."name" = 'name1' returning *`);
        });
    });
    describe("registerBeforeInsertTransform", () => {
        const typedKnex = new typedKnex_1.TypedKnex((0, knex_1.knex)({ client: "postgresql" }));
        afterEach(() => {
            (0, typedKnex_1.registerBeforeInsertTransform)(undefined);
        });
        it("should change item to when using insertItem", async () => {
            const query = typedKnex.query(testTables_1.User);
            (0, typedKnex_1.registerBeforeInsertTransform)((item) => {
                return Object.assign(Object.assign({}, item), { name: "name override" });
            });
            query.onlyLogQuery = true;
            await query.insertItem({ id: "newId" });
            chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("id", "name") values ('newId', 'name override')`);
        });
        it("should change item to when using insertItemWithReturning", async () => {
            const query = typedKnex.query(testTables_1.User);
            (0, typedKnex_1.registerBeforeInsertTransform)((item) => {
                return Object.assign(Object.assign({}, item), { name: "name override" });
            });
            query.onlyLogQuery = true;
            await query.where("name", "name1").insertItemWithReturning({ id: "newId" });
            chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("id", "name") values ('newId', 'name override') returning *`);
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZWRRdWVyeUJ1aWxkZXJUZXN0cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Rlc3QvdW5pdC90eXBlZFF1ZXJ5QnVpbGRlclRlc3RzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsK0JBQThCO0FBQzlCLCtCQUE0QjtBQUM1QixtQ0FBb0Q7QUFDcEQscURBQXFEO0FBQ3JELG1EQUFpSTtBQUNqSSxtREFBMkQ7QUFDM0QsOENBQXdFO0FBRXhFLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUU7SUFDbkMsRUFBRSxDQUFDLHFDQUFxQyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDL0MsTUFBTSxTQUFTLEdBQUcsSUFBSSxxQkFBUyxDQUFDLElBQUEsV0FBSSxFQUFDLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNoRSxNQUFNLEtBQUssR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLGlCQUFJLENBQUMsQ0FBQztRQUNwQyxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDcEMsYUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztRQUVuRCxJQUFJLEVBQUUsQ0FBQztJQUNYLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLHdDQUF3QyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDbEQsTUFBTSxTQUFTLEdBQUcsSUFBSSxxQkFBUyxDQUFDLElBQUEsV0FBSSxFQUFDLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNoRSxNQUFNLEtBQUssR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLGlCQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakQsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3BDLGFBQU0sQ0FBQyxLQUFL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LEVBQUUsQ0FBQyxDQUFDO1lBRXhDLGFBQU0sQ0FBQyxLQUFLLENBQUUsS0FBYSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxzRUFBc0UsQ0FBQyxDQUFDO1FBQ3pILENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDBEQUEwRCxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3RFLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsaUJBQUksQ0FBQyxDQUFDO1lBRXBDLElBQUEseUNBQTZCLEVBQUMsQ0FBQyxJQUFTLEVBQUUsRUFBRTtnQkFDeEMsdUNBQ08sSUFBSSxLQUNQLElBQUksRUFBRSxlQUFlLElBQ3ZCO1lBQ04sQ0FBQyxDQUFDLENBQUM7WUFFRixLQUFhLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztZQUVuQyxNQUFNLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDLHVCQUF1QixDQUFDLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7WUFFNUUsYUFBTSxDQUFDLEtBQUssQ0FBRSxLQUFhLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxFQUFFLGtGQUFrRixDQUFDLENBQUM7UUFDckksQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcImNoYWlcIjtcbmltcG9ydCB7IGtuZXggfSBmcm9tIFwia25leFwiO1xuaW1wb3J0IHsgZ2V0VGFibGVzLCBnZXRUYWJsZU5hbWUgfSBmcm9tIFwiLi4vLi4vc3JjXCI7XG5pbXBvcnQgeyBnZXRDb2x1bW5OYW1lIH0gZnJvbSBcIi4uLy4uL3NyYy9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBUeXBlZEtuZXgsIFR5cGVkUXVlcnlCdWlsZGVyLCByZWdpc3RlckJlZm9yZVVwZGF0ZVRyYW5zZm9ybSwgcmVnaXN0ZXJCZWZvcmVJbnNlcnRUcmFuc2Zvcm0gfSBmcm9tIFwiLi4vLi4vc3JjL3R5cGVkS25leFwiO1xuaW1wb3J0IHsgc2V0VG9OdWxsLCB1bmZsYXR0ZW4gfSBmcm9tIFwiLi4vLi4vc3JjL3VuZmxhdHRlblwiO1xuaW1wb3J0IHsgUmVnaW9uLCBVc2VyLCBVc2VyQ2F0ZWdvcnksIFVzZXJTZXR0aW5nIH0gZnJvbSBcIi4uL3Rlc3RUYWJsZXNcIjtcblxuZGVzY3JpYmUoXCJUeXBlZEtuZXhRdWVyeUJ1aWxkZXJcIiwgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHNlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiJywgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBzZWxlY3QgXCJpZFwiIGZyb20gXCJ1c2Vyc1wiJywgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcImlkXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IFwidXNlcnNcIi5cImlkXCIgYXMgXCJpZFwiIGZyb20gXCJ1c2Vyc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgcmV0dXJuIGNhbWVsQ2FzZSBjb3JyZWN0bHlcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5zZWxlY3QoXCJpbml0aWFsVmFsdWVcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgXCJ1c2VyU2V0dGluZ3NcIi5cImluaXRpYWxWYWx1ZVwiIGFzIFwiaW5pdGlhbFZhbHVlXCIgZnJvbSBcInVzZXJTZXR0aW5nc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggd2hlcmUgb24gY29sdW1uIG9mIG93biB0YWJsZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmUoXCJuYW1lXCIsIFwidXNlcjFcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiA9IFxcJ3VzZXIxXFwnJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggRGF0ZSBjb2x1bW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcImJpcnRoRGF0ZVwiKS53aGVyZShcImJpcnRoRGF0ZVwiLCBuZXcgRGF0ZSgxOTc5LCAwLCAxKSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBcInVzZXJzXCIuXCJiaXJ0aERhdGVcIiBhcyBcImJpcnRoRGF0ZVwiIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cImJpcnRoRGF0ZVwiID0gXFwnMTk3OS0wMS0wMSAwMDowMDowMC4wMDBcXCcnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBhcnJheSBjb2x1bW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcInRhZ3NcIikud2hlcmUoXCJ0YWdzXCIsIFtcInRhZzFcIl0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgXCJ1c2Vyc1wiLlwidGFnc1wiIGFzIFwidGFnc1wiIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cInRhZ3NcIiA9IFxcJ3tcInRhZzFcIn1cXCcnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSBvbiBjb2x1bW4gb2Ygb3duIHRhYmxlIHdpdGggTElLRVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmUoXCJuYW1lXCIsIFwibGlrZVwiLCBcIiV1c2VyJVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJ1c2Vyc1wiLlwibmFtZVwiIGxpa2UgXFwnJXVzZXIlXFwnJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIG51bGxhYmxlIHByb3BlcnRpZXNcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpLnNlbGVjdChcInBob25lTnVtYmVyXCIpLndoZXJlKFwicGhvbmVOdW1iZXJcIiwgXCJ1c2VyMVwiKS5zZWxlY3QoXCJiYWNrdXBSZWdpb24uY29kZVwiKS50b1F1ZXJ5KCk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIG51bGxhYmxlIGxldmVsIDIgcHJvcGVydGllc1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcImNhdGVnb3J5LnBob25lTnVtYmVyXCIpLndoZXJlKFwiY2F0ZWdvcnkucGhvbmVOdW1iZXJcIiwgXCJ1c2VyMVwiKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSBub3Qgb24gY29sdW1uIG9mIG93biB0YWJsZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVOb3QoXCJuYW1lXCIsIFwidXNlcjFcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIG5vdCBcInVzZXJzXCIuXCJuYW1lXCIgPSBcXCd1c2VyMVxcJycpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGFkZCBncmFudWxhcml0eSB0byBmcm9tIGNsYXVzZSBpbiBxdWVyeVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlciwgXCJOT0xPQ0tcIikuc2VsZWN0KFwiaWRcIiwgXCJuYW1lXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgXCJ1c2Vyc1wiLlwiaWRcIiBhcyBcImlkXCIsIFwidXNlcnNcIi5cIm5hbWVcIiBhcyBcIm5hbWVcIiBmcm9tIFwidXNlcnNcIiBXSVRIIChOT0xPQ0spJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgam9pbiBhIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykuaW5uZXJKb2luQ29sdW1uKFwidXNlclwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBpbm5lciBqb2luIFwidXNlcnNcIiBhcyBcInVzZXJcIiBvbiBcInVzZXJcIi5cImlkXCIgPSBcInVzZXJTZXR0aW5nc1wiLlwidXNlcklkXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBqb2luIGEgdGFibGUgYW5kIHNlbGVjdCBhIGNvbHVtbiBvZiBqb2luZWQgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5zZWxlY3QoXCJ1c2VyLm5hbWVcIikuaW5uZXJKb2luQ29sdW1uKFwidXNlclwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBcInVzZXJcIi5cIm5hbWVcIiBhcyBcInVzZXIubmFtZVwiIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBpbm5lciBqb2luIFwidXNlcnNcIiBhcyBcInVzZXJcIiBvbiBcInVzZXJcIi5cImlkXCIgPSBcInVzZXJTZXR0aW5nc1wiLlwidXNlcklkXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBqb2luIGEgdGFibGUgYW5kIHVzZSB3aGVyZSBvbiBhIGNvbHVtbiBvZiBqb2luZWQgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS53aGVyZShcInVzZXIubmFtZVwiLCBcInVzZXIxXCIpLmlubmVySm9pbkNvbHVtbihcInVzZXJcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInVzZXJzXCIgYXMgXCJ1c2VyXCIgb24gXCJ1c2VyXCIuXCJpZFwiID0gXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXJJZFwiIHdoZXJlIFwidXNlclwiLlwibmFtZVwiID0gXFwndXNlcjFcXCcnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBhZGQgZ3JhbnVsYXJpdHkgdG8gam9pbiBjbGF1c2UgaW4gcXVlcnkgb24gYSBjb2x1bW4gb2Ygam9pbmVkIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykud2hlcmUoXCJ1c2VyLm5hbWVcIiwgXCJ1c2VyMVwiKS5pbm5lckpvaW5Db2x1bW4oXCJ1c2VyXCIsIFwiTk9MT0NLXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGlubmVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwidXNlclwiIFdJVEggKE5PTE9DSykgb24gXCJ1c2VyXCIuXCJpZFwiID0gXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXJJZFwiIHdoZXJlIFwidXNlclwiLlwibmFtZVwiID0gXFwndXNlcjFcXCcnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBqb2luIHR3byBsZXZlbCBvZiB0YWJsZXNcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5pbm5lckpvaW5Db2x1bW4oXCJ1c2VyXCIpLmlubmVySm9pbkNvbHVtbihcInVzZXIuY2F0ZWdvcnlcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICBxdWVyeVN0cmluZyxcbiAgICAgICAgICAgICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInVzZXJzXCIgYXMgXCJ1c2VyXCIgb24gXCJ1c2VyXCIuXCJpZFwiID0gXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXJJZFwiIGlubmVyIGpvaW4gXCJ1c2VyQ2F0ZWdvcmllc1wiIGFzIFwidXNlcl9jYXRlZ29yeVwiIG9uIFwidXNlcl9jYXRlZ29yeVwiLlwiaWRcIiA9IFwidXNlclwiLlwiY2F0ZWdvcnlJZFwiJ1xuICAgICAgICApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGpvaW4gdGhyZWUgbGV2ZWwgb2YgdGFibGVzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykuaW5uZXJKb2luQ29sdW1uKFwidXNlci5jYXRlZ29yeS5yZWdpb25cIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInJlZ2lvbnNcIiBhcyBcInVzZXJfY2F0ZWdvcnlfcmVnaW9uXCIgb24gXCJ1c2VyX2NhdGVnb3J5X3JlZ2lvblwiLlwiaWRcIiA9IFwidXNlcl9jYXRlZ29yeVwiLlwicmVnaW9uSWRcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGpvaW4gdHdvIGxldmVscyBvZiB0YWJsZXMgYW5kIHNlbGVjdCBhIGNvbHVtbiBvZiB0aGUgbGFzdCBqb2luZWQgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5zZWxlY3QoXCJ1c2VyLmNhdGVnb3J5Lm5hbWVcIikuaW5uZXJKb2luQ29sdW1uKFwidXNlci5jYXRlZ29yeVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBcInVzZXJfY2F0ZWdvcnlcIi5cIm5hbWVcIiBhcyBcInVzZXIuY2F0ZWdvcnkubmFtZVwiIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBpbm5lciBqb2luIFwidXNlckNhdGVnb3JpZXNcIiBhcyBcInVzZXJfY2F0ZWdvcnlcIiBvbiBcInVzZXJfY2F0ZWdvcnlcIi5cImlkXCIgPSBcInVzZXJcIi5cImNhdGVnb3J5SWRcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGpvaW4gdGhyZWUgbGV2ZWxzIG9mIHRhYmxlcyBhbmQgc2VsZWN0IGEgY29sdW1uIG9mIHRoZSBsYXN0IGpvaW5lZCB0YWJsZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlclNldHRpbmcpLnNlbGVjdChcInVzZXIuY2F0ZWdvcnkucmVnaW9uLmNvZGVcIikuaW5uZXJKb2luQ29sdW1uKFwidXNlci5jYXRlZ29yeS5yZWdpb25cIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICBxdWVyeVN0cmluZyxcbiAgICAgICAgICAgICdzZWxlY3QgXCJ1c2VyX2NhdGVnb3J5X3JlZ2lvblwiLlwiY29kZVwiIGFzIFwidXNlci5jYXRlZ29yeS5yZWdpb24uY29kZVwiIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBpbm5lciBqb2luIFwicmVnaW9uc1wiIGFzIFwidXNlcl9jYXRlZ29yeV9yZWdpb25cIiBvbiBcInVzZXJfY2F0ZWdvcnlfcmVnaW9uXCIuXCJpZFwiID0gXCJ1c2VyX2NhdGVnb3J5XCIuXCJyZWdpb25JZFwiJ1xuICAgICAgICApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGpvaW4gdHdvIGxldmVscyBvZiB0YWJsZXMgYW5kIHVzZSB3aGVyZSBvbiBhIGNvbHVtbiBvZiBsYXN0IGpvaW5lZCB0YWJsZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlclNldHRpbmcpLndoZXJlKFwidXNlci5jYXRlZ29yeS5uYW1lXCIsIFwidXNlcjFcIikuaW5uZXJKb2luQ29sdW1uKFwidXNlci5jYXRlZ29yeVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBpbm5lciBqb2luIFwidXNlckNhdGVnb3JpZXNcIiBhcyBcInVzZXJfY2F0ZWdvcnlcIiBvbiBcInVzZXJfY2F0ZWdvcnlcIi5cImlkXCIgPSBcInVzZXJcIi5cImNhdGVnb3J5SWRcIiB3aGVyZSBcInVzZXJfY2F0ZWdvcnlcIi5cIm5hbWVcIiA9IFxcJ3VzZXIxXFwnJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgam9pbiB0aHJlZSBsZXZlbHMgb2YgdGFibGVzIGFuZCB1c2Ugd2hlcmUgb24gYSBjb2x1bW4gb2YgbGFzdCBqb2luZWQgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS53aGVyZShcInVzZXIuY2F0ZWdvcnkucmVnaW9uLmNvZGVcIiwgMikuaW5uZXJKb2luQ29sdW1uKFwidXNlci5jYXRlZ29yeS5yZWdpb25cIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInJlZ2lvbnNcIiBhcyBcInVzZXJfY2F0ZWdvcnlfcmVnaW9uXCIgb24gXCJ1c2VyX2NhdGVnb3J5X3JlZ2lvblwiLlwiaWRcIiA9IFwidXNlcl9jYXRlZ29yeVwiLlwicmVnaW9uSWRcIiB3aGVyZSBcInVzZXJfY2F0ZWdvcnlfcmVnaW9uXCIuXCJjb2RlXCIgPSAyJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaW5uZXIgam9pbiB3aXRoIGZ1bmN0aW9uIHdpdGggb3RoZXIgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5pbm5lckpvaW5UYWJsZU9uRnVuY3Rpb24oXCJvdGhlclVzZXJcIiwgVXNlciwgKGpvaW4pID0+IHtcbiAgICAgICAgICAgIGpvaW4ub24oXCJpZFwiLCBcIj1cIiwgXCJ1c2VyMklkXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGlubmVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgb24gXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXIySWRcIiA9IFwib3RoZXJVc2VyXCIuXCJpZFwiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaW5uZXIgam9pbiB3aXRoIGZ1bmN0aW9uIHdpdGggb3RoZXIgdGFibGUgYW5kIHVzZSBvcmRlciBieSBvbiBqb2luZWQgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4XG4gICAgICAgICAgICAucXVlcnkoVXNlclNldHRpbmcpXG4gICAgICAgICAgICAuaW5uZXJKb2luVGFibGVPbkZ1bmN0aW9uKFwib3RoZXJVc2VyXCIsIFVzZXIsIChqb2luKSA9PiB7XG4gICAgICAgICAgICAgICAgam9pbi5vbihcImlkXCIsIFwiPVwiLCBcInVzZXIySWRcIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9yZGVyQnkoXCJvdGhlclVzZXIubmFtZVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGlubmVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgb24gXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXIySWRcIiA9IFwib3RoZXJVc2VyXCIuXCJpZFwiIG9yZGVyIGJ5IFwib3RoZXJVc2VyXCIuXCJuYW1lXCIgYXNjJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaW5uZXIgam9pbiB3aXRoIGZ1bmN0aW9uIHdpdGggb3RoZXIgdGFibGVzIGFuZCB1c2Ugb3JkZXIgYnkgb24gam9pbmVkIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leFxuICAgICAgICAgICAgLnF1ZXJ5KFVzZXJTZXR0aW5nKVxuICAgICAgICAgICAgLmlubmVySm9pblRhYmxlT25GdW5jdGlvbihcIm90aGVyVXNlclwiLCBVc2VyLCAoam9pbikgPT4ge1xuICAgICAgICAgICAgICAgIGpvaW4ub24oXCJpZFwiLCBcIj1cIiwgXCJ1c2VyMklkXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbm5lckpvaW5UYWJsZU9uRnVuY3Rpb24oXCJvdGhlckNhdGVnb3J5XCIsIFVzZXJDYXRlZ29yeSwgKGpvaW4pID0+IHtcbiAgICAgICAgICAgICAgICBqb2luLm9uKFwiaWRcIiwgXCI9XCIsIFwib3RoZXJVc2VyLmNhdGVnb3J5SWRcIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9yZGVyQnkoXCJvdGhlckNhdGVnb3J5Lm5hbWVcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nLFxuICAgICAgICAgICAgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBpbm5lciBqb2luIFwidXNlcnNcIiBhcyBcIm90aGVyVXNlclwiIG9uIFwidXNlclNldHRpbmdzXCIuXCJ1c2VyMklkXCIgPSBcIm90aGVyVXNlclwiLlwiaWRcIiBpbm5lciBqb2luIFwidXNlckNhdGVnb3JpZXNcIiBhcyBcIm90aGVyQ2F0ZWdvcnlcIiBvbiBcIm90aGVyVXNlclwiLlwiY2F0ZWdvcnlJZFwiID0gXCJvdGhlckNhdGVnb3J5XCIuXCJpZFwiIG9yZGVyIGJ5IFwib3RoZXJDYXRlZ29yeVwiLlwibmFtZVwiIGFzYydcbiAgICAgICAgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBpbm5lciBqb2luIHdpdGggZnVuY3Rpb24gd2l0aCBvdGhlciB0YWJsZSB1c2luZyBjb3JyZWN0IGNvbHVtbiBuYW1lXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykuaW5uZXJKb2luVGFibGVPbkZ1bmN0aW9uKFwib3RoZXJVc2VyXCIsIFVzZXIsIChqb2luKSA9PiB7XG4gICAgICAgICAgICBqb2luLm9uKFwic3RhdHVzXCIsIFwiPVwiLCBcInVzZXIySWRcIikuYW5kT25WYWwoXCJzdGF0dXNcIiwgXCI9XCIsIFwic3RhdHVzMVwiKS5hbmRPbihcInN0YXR1c1wiLCBcIj1cIiwgXCJvdGhlclZhbHVlXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICBgc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGlubmVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgb24gXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXIySWRcIiA9IFwib3RoZXJVc2VyXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiIGFuZCBcIm90aGVyVXNlclwiLlwid2VpcmREYXRhYmFzZU5hbWVcIiA9ICdzdGF0dXMxJyBhbmQgXCJ1c2VyU2V0dGluZ3NcIi5cIm90aGVyX3ZhbHVlXCIgPSBcIm90aGVyVXNlclwiLlwid2VpcmREYXRhYmFzZU5hbWVcImBcbiAgICAgICAgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBpbm5lciBqb2luIHdpdGggZnVuY3Rpb24gd2l0aCBvdGhlciB0YWJsZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlclNldHRpbmcpLmlubmVySm9pbihcIm90aGVyVXNlclwiLCBVc2VyLCBcIm5pY2tOYW1lXCIsIFwiPVwiLCBcInZhbHVlXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInVzZXJzXCIgYXMgXCJvdGhlclVzZXJcIiBvbiBcIm90aGVyVXNlclwiLlwibmlja05hbWVcIiA9IFwidXNlclNldHRpbmdzXCIuXCJ2YWx1ZVwiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaW5uZXIgam9pbiB3aXRoIG90aGVyIHRhYmxlIHdpdGggbmFtZSBhdHRyaWJ1dGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5pbm5lckpvaW4oXCJvdGhlclVzZXJcIiwgVXNlciwgXCJzdGF0dXNcIiwgXCI9XCIsIFwib3RoZXJWYWx1ZVwiKS53aGVyZShcIm90aGVyVXNlci5zdGF0dXNcIiwgXCJzdGF0dXMxXCIpLndoZXJlKFwib3RoZXJWYWx1ZVwiLCBcIm90aGVyIHZhbHVlXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICBxdWVyeVN0cmluZyxcbiAgICAgICAgICAgICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInVzZXJzXCIgYXMgXCJvdGhlclVzZXJcIiBvbiBcIm90aGVyVXNlclwiLlwid2VpcmREYXRhYmFzZU5hbWVcIiA9IFwidXNlclNldHRpbmdzXCIuXCJvdGhlcl92YWx1ZVwiIHdoZXJlIFwib3RoZXJVc2VyXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gXFwnc3RhdHVzMVxcJyBhbmQgXCJ1c2VyU2V0dGluZ3NcIi5cIm90aGVyX3ZhbHVlXCIgPSBcXCdvdGhlciB2YWx1ZVxcJydcbiAgICAgICAgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBhZGQgZ3JhbnVsYXJpdHkgdG8gaW5uZXIgam9pbiB3aXRoIGZ1bmN0aW9uIHdpdGggb3RoZXIgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nLCBcIlJPV0xPQ0tcIikuaW5uZXJKb2luKFwib3RoZXJVc2VyXCIsIFVzZXIsIFwiTk9MT0NLXCIsIFwibmlja05hbWVcIiwgXCI9XCIsIFwidmFsdWVcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBXSVRIIChST1dMT0NLKSBpbm5lciBqb2luIFwidXNlcnNcIiBhcyBcIm90aGVyVXNlclwiIFdJVEggKE5PTE9DSykgb24gXCJvdGhlclVzZXJcIi5cIm5pY2tOYW1lXCIgPSBcInVzZXJTZXR0aW5nc1wiLlwidmFsdWVcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGxlZnQgb3V0ZXIgam9pbiB3aXRoIG90aGVyIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykubGVmdE91dGVySm9pbihcIm90aGVyVXNlclwiLCBVc2VyLCBcIm5pY2tOYW1lXCIsIFwiPVwiLCBcInZhbHVlXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgbGVmdCBvdXRlciBqb2luIFwidXNlcnNcIiBhcyBcIm90aGVyVXNlclwiIG9uIFwib3RoZXJVc2VyXCIuXCJuaWNrTmFtZVwiID0gXCJ1c2VyU2V0dGluZ3NcIi5cInZhbHVlXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBsZWZ0IG91dGVyIGpvaW4gd2l0aCBvdGhlciB0YWJsZSB3aXRoIG5hbWUgYXR0cmlidXRlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykubGVmdE91dGVySm9pbihcIm90aGVyVXNlclwiLCBVc2VyLCBcInN0YXR1c1wiLCBcIj1cIiwgXCJvdGhlclZhbHVlXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgbGVmdCBvdXRlciBqb2luIFwidXNlcnNcIiBhcyBcIm90aGVyVXNlclwiIG9uIFwib3RoZXJVc2VyXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gXCJ1c2VyU2V0dGluZ3NcIi5cIm90aGVyX3ZhbHVlXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBhZGQgZ3JhbnVsYXJpdHkgdG8gbGVmdCBvdXRlciBqb2luIHdpdGggb3RoZXIgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5sZWZ0T3V0ZXJKb2luKFwib3RoZXJVc2VyXCIsIFVzZXIsIFwiTk9MT0NLXCIsIFwibmlja05hbWVcIiwgXCI9XCIsIFwidmFsdWVcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgV0lUSCAoTk9MT0NLKSBvbiBcIm90aGVyVXNlclwiLlwibmlja05hbWVcIiA9IFwidXNlclNldHRpbmdzXCIuXCJ2YWx1ZVwiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbGVmdCBvdXRlciBqb2luIHdpdGggb3RoZXIgdGFibGVzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leFxuICAgICAgICAgICAgLnF1ZXJ5KFVzZXJTZXR0aW5nKVxuICAgICAgICAgICAgLmxlZnRPdXRlckpvaW4oXCJvdGhlclVzZXJcIiwgVXNlciwgXCJzdGF0dXNcIiwgXCI9XCIsIFwib3RoZXJWYWx1ZVwiKVxuICAgICAgICAgICAgLmxlZnRPdXRlckpvaW4oXCJvdGhlclVzZXIub3RoZXJPdGhlclVzZXJcIiwgVXNlciwgXCJzdGF0dXNcIiwgXCI9XCIsIFwib3RoZXJVc2VyLnN0YXR1c1wiKVxuICAgICAgICAgICAgLnNlbGVjdChcIm90aGVyVXNlci5vdGhlck90aGVyVXNlci5uYW1lXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICBxdWVyeVN0cmluZyxcbiAgICAgICAgICAgICdzZWxlY3QgXCJvdGhlclVzZXJfb3RoZXJPdGhlclVzZXJcIi5cIm5hbWVcIiBhcyBcIm90aGVyVXNlci5vdGhlck90aGVyVXNlci5uYW1lXCIgZnJvbSBcInVzZXJTZXR0aW5nc1wiIGxlZnQgb3V0ZXIgam9pbiBcInVzZXJzXCIgYXMgXCJvdGhlclVzZXJcIiBvbiBcIm90aGVyVXNlclwiLlwid2VpcmREYXRhYmFzZU5hbWVcIiA9IFwidXNlclNldHRpbmdzXCIuXCJvdGhlcl92YWx1ZVwiIGxlZnQgb3V0ZXIgam9pbiBcInVzZXJzXCIgYXMgXCJvdGhlclVzZXJfb3RoZXJPdGhlclVzZXJcIiBvbiBcIm90aGVyVXNlcl9vdGhlck90aGVyVXNlclwiLlwid2VpcmREYXRhYmFzZU5hbWVcIiA9IFwib3RoZXJVc2VyXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiJ1xuICAgICAgICApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHNlbGVjdCAyIGNvbHVtbnMgYXQgb25jZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikuc2VsZWN0KFwiaWRcIiwgXCJuYW1lXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IFwidXNlcnNcIi5cImlkXCIgYXMgXCJpZFwiLCBcInVzZXJzXCIuXCJuYW1lXCIgYXMgXCJuYW1lXCIgZnJvbSBcInVzZXJzXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBzZWxlY3QgMiBjb2x1bW5zIGF0IG9uY2UgZnJvbSBwYXJlbnRcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5zZWxlY3QoXCJ1c2VyLmlkXCIsIFwidXNlci5uYW1lXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IFwidXNlclwiLlwiaWRcIiBhcyBcInVzZXIuaWRcIiwgXCJ1c2VyXCIuXCJuYW1lXCIgYXMgXCJ1c2VyLm5hbWVcIiBmcm9tIFwidXNlclNldHRpbmdzXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBzZWxlY3QgcmF3IHF1ZXJ5XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5zZWxlY3RSYXcoXCJzdWJRdWVyeVwiLCBOdW1iZXIsIFwic2VsZWN0IG90aGVyLmlkIGZyb20gb3RoZXJcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKHNlbGVjdCBvdGhlci5pZCBmcm9tIG90aGVyKSBhcyBcInN1YlF1ZXJ5XCIgZnJvbSBcInVzZXJzXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBzZWxlY3QgcmF3IHF1ZXJ5IHdpdGggc3FsIGJpbmRpbmdzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5zZWxlY3RSYXcoXCJzdWJRdWVyeVwiLCBOdW1iZXIsIFwic2VsZWN0ID8/IGZyb20gb3RoZXIgd2hlcmUgPz8gbGlrZSA/XCIsIFwib3RoZXIuaWRcIiwgXCJvdGhlci5uYW1lXCIsIFwiJXRlc3QlXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IChzZWxlY3QgXCJvdGhlclwiLlwiaWRcIiBmcm9tIG90aGVyIHdoZXJlIFwib3RoZXJcIi5cIm5hbWVcIiBsaWtlIFxcJyV0ZXN0JVxcJykgYXMgXCJzdWJRdWVyeVwiIGZyb20gXCJ1c2Vyc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggQU5EIGluIHdoZXJlIGNsYXVzZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmUoXCJuYW1lXCIsIFwidXNlcjFcIikuYW5kV2hlcmUoXCJuYW1lXCIsIFwidXNlcjJcIikuYW5kV2hlcmUoXCJuYW1lXCIsIFwibGlrZVwiLCBcIiV1c2VyJVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJ1c2Vyc1wiLlwibmFtZVwiID0gXFwndXNlcjFcXCcgYW5kIFwidXNlcnNcIi5cIm5hbWVcIiA9IFxcJ3VzZXIyXFwnIGFuZCBcInVzZXJzXCIuXCJuYW1lXCIgbGlrZSBcXCcldXNlciVcXCcnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBPUiBpbiB3aGVyZSBjbGF1c2VcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlKFwibmFtZVwiLCBcInVzZXIxXCIpLm9yV2hlcmUoXCJuYW1lXCIsIFwidXNlcjJcIikub3JXaGVyZShcIm5hbWVcIiwgXCJsaWtlXCIsIFwiJXVzZXIlXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBcInVzZXJzXCIuXCJuYW1lXCIgPSBcXCd1c2VyMVxcJyBvciBcInVzZXJzXCIuXCJuYW1lXCIgPSBcXCd1c2VyMlxcJyBvciBcInVzZXJzXCIuXCJuYW1lXCIgbGlrZSBcXCcldXNlciVcXCcnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSBpblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVJbihcIm5hbWVcIiwgW1widXNlcjFcIiwgXCJ1c2VyMlwiXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiBpbiAoXFwndXNlcjFcXCcsIFxcJ3VzZXIyXFwnKScpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIHdoZXJlIG5vdCBpblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVOb3RJbihcIm5hbWVcIiwgW1widXNlcjFcIiwgXCJ1c2VyMlwiXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiBub3QgaW4gKFxcJ3VzZXIxXFwnLCBcXCd1c2VyMlxcJyknKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSBiZXR3ZWVuXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS53aGVyZUJldHdlZW4oXCJudW1lcmljVmFsdWVcIiwgWzEsIDEwXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiIGJldHdlZW4gMSBhbmQgMTAnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSBub3QgYmV0d2VlblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVOb3RCZXR3ZWVuKFwibnVtZXJpY1ZhbHVlXCIsIFsxLCAxMF0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIiBub3QgYmV0d2VlbiAxIGFuZCAxMCcpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIHdoZXJlIGV4aXN0c1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVFeGlzdHMoVXNlclNldHRpbmcsIChzdWJRdWVyeSkgPT4ge1xuICAgICAgICAgICAgc3ViUXVlcnkud2hlcmVDb2x1bW4oXCJ1c2VySWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsIGBzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBleGlzdHMgKHNlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBhcyBcInN1YnF1ZXJ5MCR1c2VyU2V0dGluZ3NcIiB3aGVyZSBcInN1YnF1ZXJ5MCR1c2VyU2V0dGluZ3NcIi5cInVzZXJJZFwiID0gXCJ1c2Vyc1wiLlwiaWRcIilgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBhZGQgZ3JhbnVsYXJpdHkgdG8gd2hlcmUgZXhpc3RzIHF1ZXJ5XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS53aGVyZUV4aXN0cyhVc2VyU2V0dGluZywgXCJOT0xPQ0tcIiwgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICBzdWJRdWVyeS53aGVyZUNvbHVtbihcInVzZXJJZFwiLCBcIj1cIiwgXCJpZFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgYHNlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGFzIFwic3VicXVlcnkwJHVzZXJTZXR0aW5nc1wiIFdJVEggKE5PTE9DSykgd2hlcmUgXCJzdWJxdWVyeTAkdXNlclNldHRpbmdzXCIuXCJ1c2VySWRcIiA9IFwidXNlcnNcIi5cImlkXCIpYCk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggd2hlcmUgZXhpc3RzIHdpdGggY29sdW1uIG5hbWUgbWFwcGluZ1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVFeGlzdHMoVXNlclNldHRpbmcsIChzdWJRdWVyeSkgPT4ge1xuICAgICAgICAgICAgc3ViUXVlcnkuaW5uZXJKb2luQ29sdW1uKFwidXNlclwiKTtcbiAgICAgICAgICAgIHN1YlF1ZXJ5LndoZXJlQ29sdW1uKFwidXNlci5ub3RVbmRlZmluZWRTdGF0dXNcIiwgXCI9XCIsIFwibm90VW5kZWZpbmVkU3RhdHVzXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICBgc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgZXhpc3RzIChzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgYXMgXCJzdWJxdWVyeTAkdXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInVzZXJzXCIgYXMgXCJzdWJxdWVyeTAkdXNlclwiIG9uIFwic3VicXVlcnkwJHVzZXJcIi5cImlkXCIgPSBcInN1YnF1ZXJ5MCR1c2VyU2V0dGluZ3NcIi5cInVzZXJJZFwiIHdoZXJlIFwic3VicXVlcnkwJHVzZXJcIi5cIndlaXJkRGF0YWJhc2VOYW1lMlwiID0gXCJ1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWUyXCIpYFxuICAgICAgICApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIG9yIHdoZXJlIGV4aXN0c1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXhcbiAgICAgICAgICAgIC5xdWVyeShVc2VyKVxuICAgICAgICAgICAgLndoZXJlKFwibmFtZVwiLCBcIm5hbWVcIilcbiAgICAgICAgICAgIC5vcldoZXJlRXhpc3RzKFVzZXJTZXR0aW5nLCAoc3ViUXVlcnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJRdWVyeS53aGVyZUNvbHVtbihcInVzZXJJZFwiLCBcIj1cIiwgXCJpZFwiKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBcInVzZXJzXCIuXCJuYW1lXCIgPSBcXCduYW1lXFwnIG9yIGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGFzIFwic3VicXVlcnkwJHVzZXJTZXR0aW5nc1wiIHdoZXJlIFwic3VicXVlcnkwJHVzZXJTZXR0aW5nc1wiLlwidXNlcklkXCIgPSBcInVzZXJzXCIuXCJpZFwiKScpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIHdoZXJlIG5vdCBleGlzdHNcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlTm90RXhpc3RzKFVzZXJTZXR0aW5nLCAoc3ViUXVlcnkpID0+IHtcbiAgICAgICAgICAgIHN1YlF1ZXJ5LndoZXJlQ29sdW1uKFwidXNlcklkXCIsIFwiPVwiLCBcImlkXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgbm90IGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGFzIFwic3VicXVlcnkwJHVzZXJTZXR0aW5nc1wiIHdoZXJlIFwic3VicXVlcnkwJHVzZXJTZXR0aW5nc1wiLlwidXNlcklkXCIgPSBcInVzZXJzXCIuXCJpZFwiKScpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIG9yIHdoZXJlIG5vdCBleGlzdHNcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4XG4gICAgICAgICAgICAucXVlcnkoVXNlcilcbiAgICAgICAgICAgIC53aGVyZShcIm5hbWVcIiwgXCJuYW1lXCIpXG4gICAgICAgICAgICAub3JXaGVyZU5vdEV4aXN0cyhVc2VyU2V0dGluZywgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgc3ViUXVlcnkud2hlcmVDb2x1bW4oXCJ1c2VySWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJ1c2Vyc1wiLlwibmFtZVwiID0gXFwnbmFtZVxcJyBvciBub3QgZXhpc3RzIChzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgYXMgXCJzdWJxdWVyeTAkdXNlclNldHRpbmdzXCIgd2hlcmUgXCJzdWJxdWVyeTAkdXNlclNldHRpbmdzXCIuXCJ1c2VySWRcIiA9IFwidXNlcnNcIi5cImlkXCIpJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggd2hlcmUgcmF3XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS53aGVyZVJhdyhcIj8/ID0gPz9cIiwgXCJ1c2Vycy5pZFwiLCBcInVzZXJzLm5hbWVcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cImlkXCIgPSBcInVzZXJzXCIuXCJuYW1lXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBncm91cCBieVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikuc2VsZWN0KFwic29tZVZhbHVlXCIpLnNlbGVjdFJhdyhcInRvdGFsXCIsIE51bWJlciwgJ1NVTShcIm51bWVyaWNWYWx1ZVwiKScpLmdyb3VwQnkoXCJzb21lVmFsdWVcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBcInVzZXJzXCIuXCJzb21lVmFsdWVcIiBhcyBcInNvbWVWYWx1ZVwiLCAoU1VNKFwibnVtZXJpY1ZhbHVlXCIpKSBhcyBcInRvdGFsXCIgZnJvbSBcInVzZXJzXCIgZ3JvdXAgYnkgXCJ1c2Vyc1wiLlwic29tZVZhbHVlXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBoYXZpbmdcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmhhdmluZyhcIm51bWVyaWNWYWx1ZVwiLCBcIj5cIiwgMTApO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBoYXZpbmcgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgPiAxMCcpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGhhdmluZyBudWxsXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5oYXZpbmdOdWxsKFwibnVtZXJpY1ZhbHVlXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBoYXZpbmcgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgaXMgbnVsbCcpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGhhdmluZyBub3QgbnVsbFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikuaGF2aW5nTm90TnVsbChcIm51bWVyaWNWYWx1ZVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgaGF2aW5nIFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiIGlzIG5vdCBudWxsJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggaGF2aW5nIGluXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5oYXZpbmdJbihcIm5hbWVcIiwgW1widXNlcjFcIiwgXCJ1c2VyMlwiXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIGhhdmluZyBcInVzZXJzXCIuXCJuYW1lXCIgaW4gKFxcJ3VzZXIxXFwnLCBcXCd1c2VyMlxcJyknKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBoYXZpbmcgbm90IGluXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5oYXZpbmdOb3RJbihcIm5hbWVcIiwgW1widXNlcjFcIiwgXCJ1c2VyMlwiXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIGhhdmluZyBcInVzZXJzXCIuXCJuYW1lXCIgbm90IGluIChcXCd1c2VyMVxcJywgXFwndXNlcjJcXCcpJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggaGF2aW5nIGV4aXN0c1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikuaGF2aW5nRXhpc3RzKFVzZXJTZXR0aW5nLCAoc3ViUXVlcnkpID0+IHtcbiAgICAgICAgICAgIHN1YlF1ZXJ5LndoZXJlQ29sdW1uKFwidXNlcklkXCIsIFwiPVwiLCBcImlkXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgaGF2aW5nIGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGFzIFwic3VicXVlcnkwJHVzZXJTZXR0aW5nc1wiIHdoZXJlIFwic3VicXVlcnkwJHVzZXJTZXR0aW5nc1wiLlwidXNlcklkXCIgPSBcInVzZXJzXCIuXCJpZFwiKScpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGhhdmluZyBub3QgZXhpc3RzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5oYXZpbmdOb3RFeGlzdHMoVXNlclNldHRpbmcsIChzdWJRdWVyeSkgPT4ge1xuICAgICAgICAgICAgc3ViUXVlcnkud2hlcmVDb2x1bW4oXCJ1c2VySWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBoYXZpbmcgbm90IGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGFzIFwic3VicXVlcnkwJHVzZXJTZXR0aW5nc1wiIHdoZXJlIFwic3VicXVlcnkwJHVzZXJTZXR0aW5nc1wiLlwidXNlcklkXCIgPSBcInVzZXJzXCIuXCJpZFwiKScpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGhhdmluZyByYXdcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmhhdmluZ1JhdyhcIj8/ID0gPz9cIiwgXCJ1c2Vycy5pZFwiLCBcInVzZXJzLm5hbWVcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIGhhdmluZyBcInVzZXJzXCIuXCJpZFwiID0gXCJ1c2Vyc1wiLlwibmFtZVwiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggaGF2aW5nIGJldHdlZW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmhhdmluZ0JldHdlZW4oXCJudW1lcmljVmFsdWVcIiwgWzEsIDEwXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIGhhdmluZyBcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIiBiZXR3ZWVuIDEgYW5kIDEwJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggaGF2aW5nIG5vdCBiZXR3ZWVuXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5oYXZpbmdOb3RCZXR3ZWVuKFwibnVtZXJpY1ZhbHVlXCIsIFsxLCAxMF0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBoYXZpbmcgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgbm90IGJldHdlZW4gMSBhbmQgMTAnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBhbiB1bmlvblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXhcbiAgICAgICAgICAgIC5xdWVyeShVc2VyKVxuICAgICAgICAgICAgLnNlbGVjdChcImlkXCIpXG4gICAgICAgICAgICAudW5pb24oVXNlciwgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgc3ViUXVlcnkuc2VsZWN0KFwiaWRcIikud2hlcmUoXCJudW1lcmljVmFsdWVcIiwgMTIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBcInVzZXJzXCIuXCJpZFwiIGFzIFwiaWRcIiBmcm9tIFwidXNlcnNcIiB1bmlvbiBzZWxlY3QgXCJ1c2Vyc1wiLlwiaWRcIiBhcyBcImlkXCIgZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgPSAxMicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGFkZCBncmFudWxhcml0eSB0byBhIHVuaW9uIHF1ZXJ5XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leFxuICAgICAgICAgICAgLnF1ZXJ5KFVzZXIpXG4gICAgICAgICAgICAuc2VsZWN0KFwiaWRcIilcbiAgICAgICAgICAgIC51bmlvbihVc2VyLCBcIlJPV0xPQ0tcIiwgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgc3ViUXVlcnkuc2VsZWN0KFwiaWRcIikud2hlcmUoXCJudW1lcmljVmFsdWVcIiwgMTIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBcInVzZXJzXCIuXCJpZFwiIGFzIFwiaWRcIiBmcm9tIFwidXNlcnNcIiB1bmlvbiBzZWxlY3QgXCJ1c2Vyc1wiLlwiaWRcIiBhcyBcImlkXCIgZnJvbSBcInVzZXJzXCIgV0lUSCAoUk9XTE9DSykgd2hlcmUgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgPSAxMicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGFuIHVuaW9uIGFsbFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXhcbiAgICAgICAgICAgIC5xdWVyeShVc2VyKVxuICAgICAgICAgICAgLnNlbGVjdChcImlkXCIpXG4gICAgICAgICAgICAudW5pb25BbGwoVXNlciwgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgc3ViUXVlcnkuc2VsZWN0KFwiaWRcIikud2hlcmUoXCJudW1lcmljVmFsdWVcIiwgMTIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBcInVzZXJzXCIuXCJpZFwiIGFzIFwiaWRcIiBmcm9tIFwidXNlcnNcIiB1bmlvbiBhbGwgc2VsZWN0IFwidXNlcnNcIi5cImlkXCIgYXMgXCJpZFwiIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiID0gMTInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBhZGQgZ3JhbnVsYXJpdHkgdG8gYSB1bmlvbiBhbGwgcXVlcnlcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4XG4gICAgICAgICAgICAucXVlcnkoVXNlciwgXCJOT0xPQ0tcIilcbiAgICAgICAgICAgIC5zZWxlY3QoXCJpZFwiKVxuICAgICAgICAgICAgLnVuaW9uQWxsKFVzZXIsIFwiTk9MT0NLXCIsIChzdWJRdWVyeSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1YlF1ZXJ5LnNlbGVjdChcImlkXCIpLndoZXJlKFwibnVtZXJpY1ZhbHVlXCIsIDEyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgXCJ1c2Vyc1wiLlwiaWRcIiBhcyBcImlkXCIgZnJvbSBcInVzZXJzXCIgV0lUSCAoTk9MT0NLKSB1bmlvbiBhbGwgc2VsZWN0IFwidXNlcnNcIi5cImlkXCIgYXMgXCJpZFwiIGZyb20gXCJ1c2Vyc1wiIFdJVEggKE5PTE9DSykgd2hlcmUgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgPSAxMicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIG1pblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikubWluKFwibnVtZXJpY1ZhbHVlXCIsIFwibWluTnVtZXJpY1ZhbHVlXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IG1pbihcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIikgYXMgXCJtaW5OdW1lcmljVmFsdWVcIiBmcm9tIFwidXNlcnNcIicpO1xuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBjb3VudFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikuY291bnQoXCJudW1lcmljVmFsdWVcIiwgXCJjb3VudE51bWVyaWNWYWx1ZVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBjb3VudChcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIikgYXMgXCJjb3VudE51bWVyaWNWYWx1ZVwiIGZyb20gXCJ1c2Vyc1wiJyk7XG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGNvdW50RGlzdGluY3RcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmNvdW50RGlzdGluY3QoXCJudW1lcmljVmFsdWVcIiwgXCJjb3VudERpc3RpbmN0TnVtZXJpY1ZhbHVlXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IGNvdW50KGRpc3RpbmN0IFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiKSBhcyBcImNvdW50RGlzdGluY3ROdW1lcmljVmFsdWVcIiBmcm9tIFwidXNlcnNcIicpO1xuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBtYXhcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLm1heChcIm51bWVyaWNWYWx1ZVwiLCBcIm1heE51bWVyaWNWYWx1ZVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBtYXgoXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIpIGFzIFwibWF4TnVtZXJpY1ZhbHVlXCIgZnJvbSBcInVzZXJzXCInKTtcbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggdHdvIG1heFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikubWF4KFwibnVtZXJpY1ZhbHVlXCIsIFwibWF4TnVtZXJpY1ZhbHVlXCIpLm1heChcInNvbWVWYWx1ZVwiLCBcIm1heFNvbWVWYWx1ZVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBtYXgoXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIpIGFzIFwibWF4TnVtZXJpY1ZhbHVlXCIsIG1heChcInVzZXJzXCIuXCJzb21lVmFsdWVcIikgYXMgXCJtYXhTb21lVmFsdWVcIiBmcm9tIFwidXNlcnNcIicpO1xuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBzdW1cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnN1bShcIm51bWVyaWNWYWx1ZVwiLCBcInN1bU51bWVyaWNWYWx1ZVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBzdW0oXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIpIGFzIFwic3VtTnVtZXJpY1ZhbHVlXCIgZnJvbSBcInVzZXJzXCInKTtcbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggc3VtRGlzdGluY3RcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnN1bURpc3RpbmN0KFwibnVtZXJpY1ZhbHVlXCIsIFwic3VtRGlzdGluY3ROdW1lcmljVmFsdWVcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3Qgc3VtKGRpc3RpbmN0IFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiKSBhcyBcInN1bURpc3RpbmN0TnVtZXJpY1ZhbHVlXCIgZnJvbSBcInVzZXJzXCInKTtcbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggYXZnXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5hdmcoXCJudW1lcmljVmFsdWVcIiwgXCJhdmdOdW1lcmljVmFsdWVcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgYXZnKFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiKSBhcyBcImF2Z051bWVyaWNWYWx1ZVwiIGZyb20gXCJ1c2Vyc1wiJyk7XG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGF2Z0Rpc3RpbmN0XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5hdmdEaXN0aW5jdChcIm51bWVyaWNWYWx1ZVwiLCBcImF2Z0Rpc3RpbmN0TnVtZXJpY1ZhbHVlXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IGF2ZyhkaXN0aW5jdCBcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIikgYXMgXCJhdmdEaXN0aW5jdE51bWVyaWNWYWx1ZVwiIGZyb20gXCJ1c2Vyc1wiJyk7XG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIG9yZGVyIGJ5XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5vcmRlckJ5KFwiaWRcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBvcmRlciBieSBcInVzZXJzXCIuXCJpZFwiIGFzYycpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNsZWFyIHNlbGVjdFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikuc2VsZWN0KFwiaWRcIikuY2xlYXJTZWxlY3QoKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY2xlYXIgd2hlcmVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlKFwibmFtZVwiLCBcInVzZXIxXCIpLmNsZWFyV2hlcmUoKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjbGVhciBvcmRlclwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikub3JkZXJCeShcImlkXCIpLmNsZWFyT3JkZXIoKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggZGlzdGluY3RcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcImlkXCIpLmRpc3RpbmN0KCk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgZGlzdGluY3QgXCJ1c2Vyc1wiLlwiaWRcIiBhcyBcImlkXCIgZnJvbSBcInVzZXJzXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjbG9uZSBhbmQgYWRqdXN0IG9ubHkgdGhlIGNsb25lXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcImlkXCIpO1xuXG4gICAgICAgIGNvbnN0IGNsb25lZFF1ZXJ5ID0gcXVlcnkuY2xvbmUoKTtcblxuICAgICAgICBjbG9uZWRRdWVyeS5zZWxlY3QoXCJuYW1lXCIpO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeS50b1F1ZXJ5KCksICdzZWxlY3QgXCJ1c2Vyc1wiLlwiaWRcIiBhcyBcImlkXCIgZnJvbSBcInVzZXJzXCInKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGNsb25lZFF1ZXJ5LnRvUXVlcnkoKSwgJ3NlbGVjdCBcInVzZXJzXCIuXCJpZFwiIGFzIFwiaWRcIiwgXCJ1c2Vyc1wiLlwibmFtZVwiIGFzIFwibmFtZVwiIGZyb20gXCJ1c2Vyc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbWFpbnRhaW4gZ3JhbnVsYXJpdHkgdG8gY2xvbmVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlciwgXCJOT0xPQ0tcIikuc2VsZWN0KFwiaWRcIik7XG5cbiAgICAgICAgY29uc3QgY2xvbmVkUXVlcnkgPSBxdWVyeS5jbG9uZSgpO1xuXG4gICAgICAgIGNsb25lZFF1ZXJ5LnNlbGVjdChcIm5hbWVcIik7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5LnRvUXVlcnkoKSwgJ3NlbGVjdCBcInVzZXJzXCIuXCJpZFwiIGFzIFwiaWRcIiBmcm9tIFwidXNlcnNcIiBXSVRIIChOT0xPQ0spJyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChjbG9uZWRRdWVyeS50b1F1ZXJ5KCksICdzZWxlY3QgXCJ1c2Vyc1wiLlwiaWRcIiBhcyBcImlkXCIsIFwidXNlcnNcIi5cIm5hbWVcIiBhcyBcIm5hbWVcIiBmcm9tIFwidXNlcnNcIiBXSVRIIChOT0xPQ0spJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggZ3JvdXBieSByYXdcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmdyb3VwQnlSYXcoXCJ5ZWFyIFdJVEggUk9MTFVQXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBncm91cCBieSB5ZWFyIFdJVEggUk9MTFVQJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggb3Igd2hlcmUgaW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlSW4oXCJuYW1lXCIsIFtcInVzZXIxXCIsIFwidXNlcjJcIl0pLm9yV2hlcmVJbihcIm5hbWVcIiwgW1widXNlcjNcIiwgXCJ1c2VyNFwiXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiBpbiAoXFwndXNlcjFcXCcsIFxcJ3VzZXIyXFwnKSBvciBcInVzZXJzXCIuXCJuYW1lXCIgaW4gKFxcJ3VzZXIzXFwnLCBcXCd1c2VyNFxcJyknKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBvciB3aGVyZSBub3QgaW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlTm90SW4oXCJuYW1lXCIsIFtcInVzZXIxXCIsIFwidXNlcjJcIl0pLm9yV2hlcmVOb3RJbihcIm5hbWVcIiwgW1widXNlcjNcIiwgXCJ1c2VyNFwiXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiBub3QgaW4gKFxcJ3VzZXIxXFwnLCBcXCd1c2VyMlxcJykgb3IgXCJ1c2Vyc1wiLlwibmFtZVwiIG5vdCBpbiAoXFwndXNlcjNcXCcsIFxcJ3VzZXI0XFwnKScpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIG9yIHdoZXJlIGJldHdlZW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlQmV0d2VlbihcIm51bWVyaWNWYWx1ZVwiLCBbMSwgMTBdKS5vcldoZXJlQmV0d2VlbihcIm51bWVyaWNWYWx1ZVwiLCBbMTAwLCAxMDAwXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiIGJldHdlZW4gMSBhbmQgMTAgb3IgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgYmV0d2VlbiAxMDAgYW5kIDEwMDAnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBvciB3aGVyZSBub3QgYmV0d2VlblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVOb3RCZXR3ZWVuKFwibnVtZXJpY1ZhbHVlXCIsIFsxLCAxMF0pLm9yV2hlcmVOb3RCZXR3ZWVuKFwibnVtZXJpY1ZhbHVlXCIsIFsxMDAsIDEwMDBdKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgbm90IGJldHdlZW4gMSBhbmQgMTAgb3IgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgbm90IGJldHdlZW4gMTAwIGFuZCAxMDAwJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggcGFyZW50aGVzZXMgaW4gd2hlcmVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4XG4gICAgICAgICAgICAucXVlcnkoVXNlcilcbiAgICAgICAgICAgIC53aGVyZVBhcmVudGhlc2VzKChzdWIpID0+IHN1Yi53aGVyZShcImlkXCIsIFwiMVwiKS5vcldoZXJlKFwiaWRcIiwgXCIyXCIpKVxuICAgICAgICAgICAgLm9yV2hlcmUoXCJuYW1lXCIsIFwiVGVzdGVyXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSAoXCJ1c2Vyc1wiLlwiaWRcIiA9IFxcJzFcXCcgb3IgXCJ1c2Vyc1wiLlwiaWRcIiA9IFxcJzJcXCcpIG9yIFwidXNlcnNcIi5cIm5hbWVcIiA9IFxcJ1Rlc3RlclxcJycpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIHBhcmVudGhlc2VzIGluIG9yV2hlcmVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4XG4gICAgICAgICAgICAucXVlcnkoVXNlcilcbiAgICAgICAgICAgIC53aGVyZShcIm5hbWVcIiwgXCI9XCIsIFwiVGVzdGVyXCIpXG4gICAgICAgICAgICAub3JXaGVyZVBhcmVudGhlc2VzKChzdWIpID0+IHN1Yi53aGVyZU5vdE51bGwoXCJzb21lTnVsbGFibGVWYWx1ZVwiKS5hbmRXaGVyZShcIm51bWVyaWNWYWx1ZVwiLCBcIj5cIiwgMjApKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJ1c2Vyc1wiLlwibmFtZVwiID0gXFwnVGVzdGVyXFwnIG9yIChcInVzZXJzXCIuXCJzb21lTnVsbGFibGVWYWx1ZVwiIGlzIG5vdCBudWxsIGFuZCBcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIiA+IDIwKScpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHJldHVybiBtZXRhZGF0YSBmcm9tIHRhYmxlc1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0YWJsZXMgPSBnZXRUYWJsZXMoKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwodGFibGVzLmxlbmd0aCwgNSk7XG4gICAgICAgIGFzc2VydC5leGlzdHModGFibGVzLmZpbmQoKGkpID0+IGkudGFibGVOYW1lID09PSBcInVzZXJzXCIpKTtcbiAgICAgICAgYXNzZXJ0LmV4aXN0cyh0YWJsZXMuZmluZCgoaSkgPT4gaS50YWJsZU5hbWUgPT09IFwiY29ycmVjdFRhYmxlTmFtZVwiKSk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggd2hlcmUgbnVsbFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVOdWxsKFwibmFtZVwiKS5vcldoZXJlTnVsbChcIm5hbWVcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiBpcyBudWxsIG9yIFwidXNlcnNcIi5cIm5hbWVcIiBpcyBudWxsJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggd2hlcmUgbm90IG51bGxcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlTm90TnVsbChcIm5hbWVcIikub3JXaGVyZU5vdE51bGwoXCJuYW1lXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBcInVzZXJzXCIuXCJuYW1lXCIgaXMgbm90IG51bGwgb3IgXCJ1c2Vyc1wiLlwibmFtZVwiIGlzIG5vdCBudWxsJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbGVmdCBvdXRlciBqb2luIGEgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5sZWZ0T3V0ZXJKb2luQ29sdW1uKFwidXNlclwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwidXNlclwiIG9uIFwidXNlclwiLlwiaWRcIiA9IFwidXNlclNldHRpbmdzXCIuXCJ1c2VySWRcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGFkZCBncmFudWxhcml0eSB0byBsZWZ0IG91dGVyIGNvbHVtbiBqb2luXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykubGVmdE91dGVySm9pbkNvbHVtbihcInVzZXJcIiwgXCJST1dMT0NLXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGxlZnQgb3V0ZXIgam9pbiBcInVzZXJzXCIgYXMgXCJ1c2VyXCIgV0lUSCAoUk9XTE9DSykgb24gXCJ1c2VyXCIuXCJpZFwiID0gXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXJJZFwiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgcmV0dXJuIGNhbWVsQ2FzZSBjb3JyZWN0bHlcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5zZWxlY3QoXCJpbml0aWFsVmFsdWVcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgXCJ1c2VyU2V0dGluZ3NcIi5cImluaXRpYWxWYWx1ZVwiIGFzIFwiaW5pdGlhbFZhbHVlXCIgZnJvbSBcInVzZXJTZXR0aW5nc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbGVmdCBvdXRlciBqb2luIHdpdGggZnVuY3Rpb24gd2l0aCBpdHNlbGZcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5sZWZ0T3V0ZXJKb2luVGFibGVPbkZ1bmN0aW9uKFwiZXZpbFR3aW5cIiwgVXNlclNldHRpbmcsIChqb2luKSA9PiB7XG4gICAgICAgICAgICBqb2luLm9uKFwiaWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgbGVmdCBvdXRlciBqb2luIFwidXNlclNldHRpbmdzXCIgYXMgXCJldmlsVHdpblwiIG9uIFwidXNlclNldHRpbmdzXCIuXCJpZFwiID0gXCJldmlsVHdpblwiLlwiaWRcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGxlZnQgb3V0ZXIgam9pbiB3aXRoIGZ1bmN0aW9uIHdpdGggb3RoZXIgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5sZWZ0T3V0ZXJKb2luVGFibGVPbkZ1bmN0aW9uKFwib3RoZXJVc2VyXCIsIFVzZXIsIChqb2luKSA9PiB7XG4gICAgICAgICAgICBqb2luLm9uKFwiaWRcIiwgXCI9XCIsIFwidXNlcjJJZFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgb24gXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXIySWRcIiA9IFwib3RoZXJVc2VyXCIuXCJpZFwiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbGVmdCBvdXRlciBqb2luIHdpdGggZnVuY3Rpb24gd2l0aCBvdGhlciB0YWJsZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlclNldHRpbmcpLmxlZnRPdXRlckpvaW5UYWJsZU9uRnVuY3Rpb24oXCJvdGhlclVzZXJcIiwgVXNlciwgKGpvaW4pID0+IHtcbiAgICAgICAgICAgIGpvaW4ub24oXCJpZFwiLCBcIj1cIiwgXCJ1c2VyMklkXCIpLm9uTnVsbChcIm5hbWVcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgbGVmdCBvdXRlciBqb2luIFwidXNlcnNcIiBhcyBcIm90aGVyVXNlclwiIG9uIFwidXNlclNldHRpbmdzXCIuXCJ1c2VyMklkXCIgPSBcIm90aGVyVXNlclwiLlwiaWRcIiBhbmQgXCJvdGhlclVzZXJcIi5cIm5hbWVcIiBpcyBudWxsJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbGVmdCBvdXRlciBqb2luIHdpdGggZnVuY3Rpb24gd2l0aCBvdGhlciB0YWJsZSB3aXRoIG9uIGFuZCBvbiBvciBvblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlclNldHRpbmcpLmxlZnRPdXRlckpvaW5UYWJsZU9uRnVuY3Rpb24oXCJvdGhlclVzZXJcIiwgVXNlciwgKGpvaW4pID0+IHtcbiAgICAgICAgICAgIGpvaW4ub24oXCJpZFwiLCBcIj1cIiwgXCJ1c2VyMklkXCIpLmFuZE9uKFwibmFtZVwiLCBcIj1cIiwgXCJ1c2VyMklkXCIpLm9yT24oXCJzb21lVmFsdWVcIiwgXCI9XCIsIFwidXNlcjJJZFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nLFxuICAgICAgICAgICAgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgb24gXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXIySWRcIiA9IFwib3RoZXJVc2VyXCIuXCJpZFwiIGFuZCBcInVzZXJTZXR0aW5nc1wiLlwidXNlcjJJZFwiID0gXCJvdGhlclVzZXJcIi5cIm5hbWVcIiBvciBcInVzZXJTZXR0aW5nc1wiLlwidXNlcjJJZFwiID0gXCJvdGhlclVzZXJcIi5cInNvbWVWYWx1ZVwiJ1xuICAgICAgICApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGxlZnQgb3V0ZXIgam9pbiB3aXRoIGZ1bmN0aW9uIHdpdGggb3RoZXIgdGFibGUgd2l0aCBvblZhbFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlclNldHRpbmcpLmxlZnRPdXRlckpvaW5UYWJsZU9uRnVuY3Rpb24oXCJvdGhlclVzZXJcIiwgVXNlciwgKGpvaW4pID0+IHtcbiAgICAgICAgICAgIGpvaW4ub25WYWwoXCJuYW1lXCIsIFwiPVwiLCBcIjFcIikuYW5kT25WYWwoXCJuYW1lXCIsIFwiPVwiLCBcIjJcIikub3JPblZhbChcIm5hbWVcIiwgXCI9XCIsIFwiM1wiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgb24gXCJvdGhlclVzZXJcIi5cIm5hbWVcIiA9IFxcJzFcXCcgYW5kIFwib3RoZXJVc2VyXCIuXCJuYW1lXCIgPSBcXCcyXFwnIG9yIFwib3RoZXJVc2VyXCIuXCJuYW1lXCIgPSBcXCczXFwnJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgYmUgYWJsZSB0byB1c2Ugam9pbmVkIGNvbHVtbiBpbiBhbm90aGVyIGxlZnRPdXRlckpvaW5UYWJsZU9uRnVuY3Rpb25cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4XG4gICAgICAgICAgICAucXVlcnkoVXNlclNldHRpbmcpXG4gICAgICAgICAgICAubGVmdE91dGVySm9pblRhYmxlT25GdW5jdGlvbihcImV2aWxUd2luXCIsIFVzZXJTZXR0aW5nLCAoam9pbikgPT4ge1xuICAgICAgICAgICAgICAgIGpvaW4ub24oXCJpZFwiLCBcIj1cIiwgXCJpZFwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAubGVmdE91dGVySm9pblRhYmxlT25GdW5jdGlvbihcImV2aWxUd2luMlwiLCBVc2VyU2V0dGluZywgKGpvaW4pID0+IHtcbiAgICAgICAgICAgICAgICBqb2luLm9uKFwiaWRcIiwgXCI9XCIsIFwiZXZpbFR3aW4uaWRcIik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGxlZnQgb3V0ZXIgam9pbiBcInVzZXJTZXR0aW5nc1wiIGFzIFwiZXZpbFR3aW5cIiBvbiBcInVzZXJTZXR0aW5nc1wiLlwiaWRcIiA9IFwiZXZpbFR3aW5cIi5cImlkXCIgbGVmdCBvdXRlciBqb2luIFwidXNlclNldHRpbmdzXCIgYXMgXCJldmlsVHdpbjJcIiBvbiBcImV2aWxUd2luXCIuXCJpZFwiID0gXCJldmlsVHdpbjJcIi5cImlkXCInXG4gICAgICAgICk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbGVmdCBvdXRlciBqb2luIHdpdGggZnVuY3Rpb24gd2l0aCBvdGhlciB0YWJsZSB3aXRoIGFuIGNvbHVtbiBhbGlhc1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KS5sZWZ0T3V0ZXJKb2luVGFibGVPbkZ1bmN0aW9uKFwic3BlY2lhbFJlZ2lvblwiLCBSZWdpb24sIChqb2luKSA9PiB7XG4gICAgICAgICAgICBqb2luLm9uKFwiaWRcIiwgXCI9XCIsIFwic3BlY2lhbFJlZ2lvbklkXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJDYXRlZ29yaWVzXCIgbGVmdCBvdXRlciBqb2luIFwicmVnaW9uc1wiIGFzIFwic3BlY2lhbFJlZ2lvblwiIG9uIFwidXNlckNhdGVnb3JpZXNcIi5cIklOVEVSTkFMX05BTUVcIiA9IFwic3BlY2lhbFJlZ2lvblwiLlwiaWRcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGFkZCBncmFudWxhcml0eSB0byBsZWZ0IG91dGVyIGpvaW4gd2l0aCBmdW5jdGlvbiB3aXRoIG90aGVyIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykubGVmdE91dGVySm9pblRhYmxlT25GdW5jdGlvbihcIm90aGVyVXNlclwiLCBVc2VyLCBcIk5PTE9DS1wiLCAoam9pbikgPT4ge1xuICAgICAgICAgICAgam9pbi5vbihcImlkXCIsIFwiPVwiLCBcInVzZXIySWRcIikub25OdWxsKFwibmFtZVwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgV0lUSCAoTk9MT0NLKSBvbiBcInVzZXJTZXR0aW5nc1wiLlwidXNlcjJJZFwiID0gXCJvdGhlclVzZXJcIi5cImlkXCIgYW5kIFwib3RoZXJVc2VyXCIuXCJuYW1lXCIgaXMgbnVsbCcpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHNlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiJywgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmxpbWl0KDEwKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIGxpbWl0IDEwJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc2VsZWN0ICogZnJvbSBcInVzZXJzXCInLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikub2Zmc2V0KDEwKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIG9mZnNldCAxMCcpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGxldCB1c2VLbmV4UXVlcnlCdWlsZGVyIGFkZCB0byBxdWVyeVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG4gICAgICAgIHF1ZXJ5LnVzZUtuZXhRdWVyeUJ1aWxkZXIoKHF1ZXJ5QnVpbGRlcikgPT4gcXVlcnlCdWlsZGVyLndoZXJlKFwic29tZXRoaW5nZWxzZVwiLCBcInZhbHVlXCIpKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwic29tZXRoaW5nZWxzZVwiID0gXFwndmFsdWVcXCcnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBsZXQgZ2V0S25leFF1ZXJ5QnVpbGRlciBhZGQgdG8gcXVlcnlcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpO1xuICAgICAgICBjb25zdCBrbmV4UXVlcnkgPSBxdWVyeS5nZXRLbmV4UXVlcnlCdWlsZGVyKCk7XG4gICAgICAgIGtuZXhRdWVyeS53aGVyZShcInNvbWV0aGluZ2Vsc2VcIiwgXCJ2YWx1ZVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwic29tZXRoaW5nZWxzZVwiID0gXFwndmFsdWVcXCcnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCByZW1vdmVOdWxsT2JqZWN0c1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICBpZDogXCJpZFwiLFxuICAgICAgICAgICAgXCJlbGVtZW50LmlkXCI6IG51bGwsXG4gICAgICAgICAgICBcImVsZW1lbnQuY2F0ZWdvcnkuaWRcIjogbnVsbCxcbiAgICAgICAgICAgIFwidW5pdC5jYXRlZ29yeS5pZFwiOiBudWxsLFxuICAgICAgICAgICAgXCJjYXRlZ29yeS5uYW1lXCI6IFwiY2F0IG5hbWVcIixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmxhdHRlbmVkID0gdW5mbGF0dGVuKFtyZXN1bHRdKTtcbiAgICAgICAgYXNzZXJ0LmlzTnVsbChmbGF0dGVuZWRbMF0uZWxlbWVudC5pZCk7XG4gICAgICAgIGFzc2VydC5pc051bGwoZmxhdHRlbmVkWzBdLnVuaXQuY2F0ZWdvcnkuaWQpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoZmxhdHRlbmVkWzBdLmNhdGVnb3J5Lm5hbWUsIFwiY2F0IG5hbWVcIik7XG4gICAgICAgIGNvbnN0IG51bGxlZCA9IHNldFRvTnVsbChmbGF0dGVuZWQpO1xuICAgICAgICBhc3NlcnQuaXNOdWxsKG51bGxlZFswXS5lbGVtZW50KTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKG51bGxlZFswXS5jYXRlZ29yeS5uYW1lLCBcImNhdCBuYW1lXCIpO1xuICAgICAgICBhc3NlcnQuaXNOdWxsKG51bGxlZFswXS51bml0KTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCByZXR1cm4gc3ViIHF1ZXJ5IGluIHNlbGVjdFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXhcbiAgICAgICAgICAgIC5xdWVyeShVc2VyQ2F0ZWdvcnkpXG4gICAgICAgICAgICAuc2VsZWN0KFwiaWRcIilcbiAgICAgICAgICAgIC5zZWxlY3RRdWVyeShcInRvdGFsXCIsIE51bWJlciwgVXNlciwgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgc3ViUXVlcnkuY291bnQoXCJpZFwiLCBcInRvdGFsXCIpLndoZXJlQ29sdW1uKFwiY2F0ZWdvcnlJZFwiLCBcIj1cIiwgXCJpZFwiKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgXCJ1c2VyQ2F0ZWdvcmllc1wiLlwiaWRcIiBhcyBcImlkXCIsIChzZWxlY3QgY291bnQoXCJ1c2Vyc1wiLlwiaWRcIikgYXMgXCJ0b3RhbFwiIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cImNhdGVnb3J5SWRcIiA9IFwidXNlckNhdGVnb3JpZXNcIi5cImlkXCIpIGFzIFwidG90YWxcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGxlZnQgb3V0ZXIgam9pbiB3aXRoIGZ1bmN0aW9uIHdpdGggYW5kIGluIG9uXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykubGVmdE91dGVySm9pblRhYmxlT25GdW5jdGlvbihcImV2aWxUd2luXCIsIFVzZXJTZXR0aW5nLCAoam9pbikgPT4ge1xuICAgICAgICAgICAgam9pbi5vbihcImlkXCIsIFwiPVwiLCBcImlkXCIpO1xuICAgICAgICAgICAgam9pbi5vbihcImtleVwiLCBcIj1cIiwgXCJrZXlcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgbGVmdCBvdXRlciBqb2luIFwidXNlclNldHRpbmdzXCIgYXMgXCJldmlsVHdpblwiIG9uIFwidXNlclNldHRpbmdzXCIuXCJpZFwiID0gXCJldmlsVHdpblwiLlwiaWRcIiBhbmQgXCJ1c2VyU2V0dGluZ3NcIi5cImtleVwiID0gXCJldmlsVHdpblwiLlwia2V5XCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBsZWZ0IG91dGVyIGpvaW4gd2l0aCBmdW5jdGlvbiBhbmQgc2VsZWN0aW9uIG9mIGpvaW5lZCB0YWJsZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXhcbiAgICAgICAgICAgIC5xdWVyeShVc2VyU2V0dGluZylcbiAgICAgICAgICAgIC5sZWZ0T3V0ZXJKb2luVGFibGVPbkZ1bmN0aW9uKFwiZXZpbFR3aW5cIiwgVXNlclNldHRpbmcsIChqb2luKSA9PiB7XG4gICAgICAgICAgICAgICAgam9pbi5vbihcImlkXCIsIFwiPVwiLCBcImlkXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVyZShcImV2aWxUd2luLnZhbHVlXCIsIFwidmFsdWVcIilcbiAgICAgICAgICAgIC5zZWxlY3QoXCJldmlsVHdpbi5rZXlcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nLFxuICAgICAgICAgICAgJ3NlbGVjdCBcImV2aWxUd2luXCIuXCJrZXlcIiBhcyBcImV2aWxUd2luLmtleVwiIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2VyU2V0dGluZ3NcIiBhcyBcImV2aWxUd2luXCIgb24gXCJ1c2VyU2V0dGluZ3NcIi5cImlkXCIgPSBcImV2aWxUd2luXCIuXCJpZFwiIHdoZXJlIFwiZXZpbFR3aW5cIi5cInZhbHVlXCIgPSBcXCd2YWx1ZVxcJydcbiAgICAgICAgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBnZXQgbmFtZSBvZiB0aGUgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdGFibGVOYW1lID0gZ2V0VGFibGVOYW1lKFVzZXIpO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbCh0YWJsZU5hbWUsIFwidXNlcnNcIik7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZ2V0IG5hbWUgb2YgdGhlIGNvbHVtblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCBjb2x1bW5OYW1lID0gZ2V0Q29sdW1uTmFtZShVc2VyLCBcImlkXCIpO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbChjb2x1bW5OYW1lLCBcImlkXCIpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGluc2VydCBhIHNlbGVjdFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGsgPSBrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KTtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBxdWVyeS5zZWxlY3RSYXcoXCJmXCIsIFN0cmluZywgXCInZml4ZWRWYWx1ZSdcIikuc2VsZWN0KFwibmFtZVwiKS5kaXN0aW5jdCgpLndoZXJlTm90TnVsbChcIm5hbWVcIikuaW5zZXJ0U2VsZWN0KFVzZXJTZXR0aW5nLCBcImlkXCIsIFwiaW5pdGlhbFZhbHVlXCIpO1xuICAgICAgICB9IGNhdGNoIChfZSkge1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgICAgIHF1ZXJ5LnRvUXVlcnkoKSxcbiAgICAgICAgICAgICAgICBgaW5zZXJ0IGludG8gXCJ1c2VyU2V0dGluZ3NcIiAoXCJ1c2VyU2V0dGluZ3NcIi5cImlkXCIsXCJ1c2VyU2V0dGluZ3NcIi5cImluaXRpYWxWYWx1ZVwiKSBzZWxlY3QgZGlzdGluY3QgKCdmaXhlZFZhbHVlJykgYXMgXCJmXCIsIFwidXNlcnNcIi5cIm5hbWVcIiBhcyBcIm5hbWVcIiBmcm9tIFwidXNlcnNcIiB3aGVyZSBcInVzZXJzXCIuXCJuYW1lXCIgaXMgbm90IG51bGxgXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBvcmRlciBieSByYXdcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLm9yZGVyQnlSYXcoXCJTVU0oPz8pIERFU0NcIiwgXCJ1c2Vycy55ZWFyXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBvcmRlciBieSBTVU0oXCJ1c2Vyc1wiLlwieWVhclwiKSBERVNDJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggd2hlcmUgaW4gd2l0aCBzdWJxdWVyeVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVFeGlzdHMoVXNlclNldHRpbmcsIChzdWJRdWVyeSkgPT4ge1xuICAgICAgICAgICAgc3ViUXVlcnkud2hlcmVDb2x1bW4oXCJ1c2VySWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBleGlzdHMgKHNlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBhcyBcInN1YnF1ZXJ5MCR1c2VyU2V0dGluZ3NcIiB3aGVyZSBcInN1YnF1ZXJ5MCR1c2VyU2V0dGluZ3NcIi5cInVzZXJJZFwiID0gXCJ1c2Vyc1wiLlwiaWRcIiknKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgaW5zZXJ0IHF1ZXJ5IHdpdGggcmV0dXJuaW5nIGFsbFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5Lmluc2VydEl0ZW1XaXRoUmV0dXJuaW5nKHsgaWQ6IFwibmV3SWRcIiB9KTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLCBgaW5zZXJ0IGludG8gXCJ1c2Vyc1wiIChcImlkXCIpIHZhbHVlcyAoJ25ld0lkJykgcmV0dXJuaW5nICpgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBpbnNlcnQgcXVlcnkgd2l0aCByZXR1cm5pbmcgMSBjb2x1bW5cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS5pbnNlcnRJdGVtV2l0aFJldHVybmluZyh7IGlkOiBcIm5ld0lkXCIgfSwgW1wic3RhdHVzXCJdKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLCBgaW5zZXJ0IGludG8gXCJ1c2Vyc1wiIChcImlkXCIpIHZhbHVlcyAoJ25ld0lkJykgcmV0dXJuaW5nIFwidXNlcnNcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCJgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBpbnNlcnQgcXVlcnkgd2l0aCByZXR1cm5pbmcgMiBjb2x1bW5cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS5pbnNlcnRJdGVtV2l0aFJldHVybmluZyh7IGlkOiBcIm5ld0lkXCIgfSwgW1wic3RhdHVzXCIsIFwiaWRcIl0pO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbCgocXVlcnkgYXMgYW55KS5xdWVyeUxvZy50cmltKCksIGBpbnNlcnQgaW50byBcInVzZXJzXCIgKFwiaWRcIikgdmFsdWVzICgnbmV3SWQnKSByZXR1cm5pbmcgXCJ1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiwgXCJ1c2Vyc1wiLlwiaWRcImApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIGluc2VydCBxdWVyeVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5Lmluc2VydEl0ZW0oeyBpZDogXCJuZXdJZFwiIH0pO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbCgocXVlcnkgYXMgYW55KS5xdWVyeUxvZy50cmltKCksIGBpbnNlcnQgaW50byBcInVzZXJzXCIgKFwiaWRcIikgdmFsdWVzICgnbmV3SWQnKWApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIGluc2VydCBxdWVyeSB3aXRoIGNvbHVtbiBuYW1lIG1hcHBpbmdcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS5pbnNlcnRJdGVtKHsgc3RhdHVzOiBcIm5ld1N0YXR1c1wiIH0pO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbCgocXVlcnkgYXMgYW55KS5xdWVyeUxvZy50cmltKCksIGBpbnNlcnQgaW50byBcInVzZXJzXCIgKFwid2VpcmREYXRhYmFzZU5hbWVcIikgdmFsdWVzICgnbmV3U3RhdHVzJylgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBtdWx0aXBsZSBpbnNlcnQgcXVlcmllc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5Lmluc2VydEl0ZW1zKFt7IGlkOiBcIm5ld0lkMVwiIH0sIHsgaWQ6IFwibmV3SWQyXCIgfV0pO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbCgocXVlcnkgYXMgYW55KS5xdWVyeUxvZy50cmltKCksIGBpbnNlcnQgaW50byBcInVzZXJzXCIgKFwiaWRcIikgdmFsdWVzICgnbmV3SWQxJyksICgnbmV3SWQyJylgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBtdWx0aXBsZSBpbnNlcnQgcXVlcmllcyB3aXRoIGNvbHVtbiBuYW1lIG1hcHBpbmdcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS5pbnNlcnRJdGVtcyhbeyBzdGF0dXM6IFwibmV3U3RhdHVzMVwiIH0sIHsgc3RhdHVzOiBcIm5ld1N0YXR1czJcIiB9XSk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYGluc2VydCBpbnRvIFwidXNlcnNcIiAoXCJ3ZWlyZERhdGFiYXNlTmFtZVwiKSB2YWx1ZXMgKCduZXdTdGF0dXMxJyksICgnbmV3U3RhdHVzMicpYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgdXBkYXRlIHF1ZXJ5XCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgICh0eXBlZEtuZXggYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpO1xuXG4gICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgYXdhaXQgcXVlcnkudXBkYXRlSXRlbSh7IGlkOiBcIm5ld0lkXCIgfSk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYHVwZGF0ZSBcInVzZXJzXCIgc2V0IFwiaWRcIiA9ICduZXdJZCdgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSB1cGRhdGUgcXVlcnkgd2l0aCByZXR1cm5pbmdcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS51cGRhdGVJdGVtV2l0aFJldHVybmluZyh7IGlkOiBcIm5ld0lkXCIgfSk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYHVwZGF0ZSBcInVzZXJzXCIgc2V0IFwiaWRcIiA9ICduZXdJZCcgcmV0dXJuaW5nICpgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSB1cGRhdGUgcXVlcnkgd2l0aCBjb2x1bW4gbmFtZSBtYXBwaW5nXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgICh0eXBlZEtuZXggYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpO1xuXG4gICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgYXdhaXQgcXVlcnkudXBkYXRlSXRlbSh7IHN0YXR1czogXCJuZXdTdGF0dXNcIiB9KTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLCBgdXBkYXRlIFwidXNlcnNcIiBzZXQgXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gJ25ld1N0YXR1cydgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSB1cGRhdGUgcXVlcnkgYnkgaWRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS51cGRhdGVJdGVtQnlQcmltYXJ5S2V5KFwidXNlcklkXCIsIHsgbmFtZTogXCJuZXdOYW1lXCIgfSk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYHVwZGF0ZSBcInVzZXJzXCIgc2V0IFwibmFtZVwiID0gJ25ld05hbWUnIHdoZXJlIFwiaWRcIiA9ICd1c2VySWQnYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgdXBkYXRlIHF1ZXJ5IGJ5IGlkIHdpdGggY29sdW1uIG5hbWUgbWFwcGluZ1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5LnVwZGF0ZUl0ZW1CeVByaW1hcnlLZXkoXCJ1c2VySWRcIiwgeyBzdGF0dXM6IFwibmV3U3RhdHVzXCIgfSk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYHVwZGF0ZSBcInVzZXJzXCIgc2V0IFwid2VpcmREYXRhYmFzZU5hbWVcIiA9ICduZXdTdGF0dXMnIHdoZXJlIFwiaWRcIiA9ICd1c2VySWQnYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgbXVsdGlwbGUgdXBkYXRlIHF1ZXJpZXMgYnkgaWRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS51cGRhdGVJdGVtc0J5UHJpbWFyeUtleShbXG4gICAgICAgICAgICB7IHByaW1hcnlLZXlWYWx1ZTogXCJ1c2VySWQxXCIsIGRhdGE6IHsgbmFtZTogXCJuZXdOYW1lMVwiIH0gfSxcbiAgICAgICAgICAgIHsgcHJpbWFyeUtleVZhbHVlOiBcInVzZXJJZDJcIiwgZGF0YTogeyBuYW1lOiBcIm5ld05hbWUyXCIgfSB9LFxuICAgICAgICBdKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLCBgdXBkYXRlIFwidXNlcnNcIiBzZXQgXCJuYW1lXCIgPSAnbmV3TmFtZTEnIHdoZXJlIFwiaWRcIiA9ICd1c2VySWQxJztcXG51cGRhdGUgXCJ1c2Vyc1wiIHNldCBcIm5hbWVcIiA9ICduZXdOYW1lMicgd2hlcmUgXCJpZFwiID0gJ3VzZXJJZDInO2ApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIG11bHRpcGxlIHVwZGF0ZSBxdWVyaWVzIGJ5IGlkIHdpdGggY29sdW1uIG5hbWUgbWFwcGluZ1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5LnVwZGF0ZUl0ZW1zQnlQcmltYXJ5S2V5KFtcbiAgICAgICAgICAgIHsgcHJpbWFyeUtleVZhbHVlOiBcInVzZXJJZDFcIiwgZGF0YTogeyBzdGF0dXM6IFwibmV3U3RhdHVzMVwiIH0gfSxcbiAgICAgICAgICAgIHsgcHJpbWFyeUtleVZhbHVlOiBcInVzZXJJZDJcIiwgZGF0YTogeyBzdGF0dXM6IFwibmV3U3RhdHVzMlwiIH0gfSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYHVwZGF0ZSBcInVzZXJzXCIgc2V0IFwid2VpcmREYXRhYmFzZU5hbWVcIiA9ICduZXdTdGF0dXMxJyB3aGVyZSBcImlkXCIgPSAndXNlcklkMSc7XFxudXBkYXRlIFwidXNlcnNcIiBzZXQgXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gJ25ld1N0YXR1czInIHdoZXJlIFwiaWRcIiA9ICd1c2VySWQyJztgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBmaW5kQnlQcmltYXJ5S2V5IHF1ZXJ5XCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgICh0eXBlZEtuZXggYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpO1xuXG4gICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgYXdhaXQgcXVlcnkuZmluZEJ5UHJpbWFyeUtleShcIjFcIiwgXCJpZFwiLCBcIm5hbWVcIik7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYHNlbGVjdCBcInVzZXJzXCIuXCJpZFwiIGFzIFwiaWRcIiwgXCJ1c2Vyc1wiLlwibmFtZVwiIGFzIFwibmFtZVwiIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwiaWRcIiA9ICcxJ2ApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgc2VsZWN0ICogd2hlbiBxdWVyeWJ1aWxkZXIgaGFzIG5vIHNlbGVjdCBzcGVjaWZpZWRcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwiZ2V0TWFueSBzaG91bGQgc2VsZWN0IGFsbCBjb2x1bW5zIG9mIHJvb3QgdHlwZSB3aXRoIGNvcnJlY3QgYWxpYXNlc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpO1xuXG4gICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgYXdhaXQgcXVlcnkuZ2V0TWFueSgpO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgICAgIChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSxcbiAgICAgICAgICAgIGBzZWxlY3QgXCJpZFwiIGFzIFwiaWRcIiwgXCJuYW1lXCIgYXMgXCJuYW1lXCIsIFwicmVnaW9uSWRcIiBhcyBcInJlZ2lvblwiLCBcInJlZ2lvbklkXCIgYXMgXCJyZWdpb25JZFwiLCBcInllYXJcIiBhcyBcInllYXJcIiwgXCJwaG9uZU51bWJlclwiIGFzIFwicGhvbmVOdW1iZXJcIiwgXCJiYWNrdXBSZWdpb25JZFwiIGFzIFwiYmFja3VwUmVnaW9uXCIsIFwiSU5URVJOQUxfTkFNRVwiIGFzIFwic3BlY2lhbFJlZ2lvbklkXCIgZnJvbSBcInVzZXJDYXRlZ29yaWVzXCJgXG4gICAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdChcImdldEZpcnN0IHNob3VsZCBzZWxlY3QgYWxsIGNvbHVtbnMgb2Ygcm9vdCB0eXBlIHdpdGggY29ycmVjdCBhbGlhc2VzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgICh0eXBlZEtuZXggYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJDYXRlZ29yeSk7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS5nZXRGaXJzdCgpO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgICAgIChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSxcbiAgICAgICAgICAgIGBzZWxlY3QgXCJpZFwiIGFzIFwiaWRcIiwgXCJuYW1lXCIgYXMgXCJuYW1lXCIsIFwicmVnaW9uSWRcIiBhcyBcInJlZ2lvblwiLCBcInJlZ2lvbklkXCIgYXMgXCJyZWdpb25JZFwiLCBcInllYXJcIiBhcyBcInllYXJcIiwgXCJwaG9uZU51bWJlclwiIGFzIFwicGhvbmVOdW1iZXJcIiwgXCJiYWNrdXBSZWdpb25JZFwiIGFzIFwiYmFja3VwUmVnaW9uXCIsIFwiSU5URVJOQUxfTkFNRVwiIGFzIFwic3BlY2lhbFJlZ2lvbklkXCIgZnJvbSBcInVzZXJDYXRlZ29yaWVzXCJgXG4gICAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdChcImdldEZpcnN0T3JOdWxsIHNob3VsZCBzZWxlY3QgYWxsIGNvbHVtbnMgb2Ygcm9vdCB0eXBlIHdpdGggY29ycmVjdCBhbGlhc2VzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgICh0eXBlZEtuZXggYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJDYXRlZ29yeSk7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS5nZXRGaXJzdE9yTnVsbCgpO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgICAgIChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSxcbiAgICAgICAgICAgIGBzZWxlY3QgXCJpZFwiIGFzIFwiaWRcIiwgXCJuYW1lXCIgYXMgXCJuYW1lXCIsIFwicmVnaW9uSWRcIiBhcyBcInJlZ2lvblwiLCBcInJlZ2lvbklkXCIgYXMgXCJyZWdpb25JZFwiLCBcInllYXJcIiBhcyBcInllYXJcIiwgXCJwaG9uZU51bWJlclwiIGFzIFwicGhvbmVOdW1iZXJcIiwgXCJiYWNrdXBSZWdpb25JZFwiIGFzIFwiYmFja3VwUmVnaW9uXCIsIFwiSU5URVJOQUxfTkFNRVwiIGFzIFwic3BlY2lhbFJlZ2lvbklkXCIgZnJvbSBcInVzZXJDYXRlZ29yaWVzXCJgXG4gICAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdChcImdldEZpcnN0T3JVbmRlZmluZWQgc2hvdWxkIHNlbGVjdCBhbGwgY29sdW1ucyBvZiByb290IHR5cGUgd2l0aCBjb3JyZWN0IGFsaWFzZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5LmdldEZpcnN0T3JVbmRlZmluZWQoKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICAocXVlcnkgYXMgYW55KS5xdWVyeUxvZy50cmltKCksXG4gICAgICAgICAgICBgc2VsZWN0IFwiaWRcIiBhcyBcImlkXCIsIFwibmFtZVwiIGFzIFwibmFtZVwiLCBcInJlZ2lvbklkXCIgYXMgXCJyZWdpb25cIiwgXCJyZWdpb25JZFwiIGFzIFwicmVnaW9uSWRcIiwgXCJ5ZWFyXCIgYXMgXCJ5ZWFyXCIsIFwicGhvbmVOdW1iZXJcIiBhcyBcInBob25lTnVtYmVyXCIsIFwiYmFja3VwUmVnaW9uSWRcIiBhcyBcImJhY2t1cFJlZ2lvblwiLCBcIklOVEVSTkFMX05BTUVcIiBhcyBcInNwZWNpYWxSZWdpb25JZFwiIGZyb20gXCJ1c2VyQ2F0ZWdvcmllc1wiYFxuICAgICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJnZXRTaW5nbGUgc2hvdWxkIHNlbGVjdCBhbGwgY29sdW1ucyBvZiByb290IHR5cGUgd2l0aCBjb3JyZWN0IGFsaWFzZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5LmdldFNpbmdsZSgpO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgICAgIChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSxcbiAgICAgICAgICAgIGBzZWxlY3QgXCJpZFwiIGFzIFwiaWRcIiwgXCJuYW1lXCIgYXMgXCJuYW1lXCIsIFwicmVnaW9uSWRcIiBhcyBcInJlZ2lvblwiLCBcInJlZ2lvbklkXCIgYXMgXCJyZWdpb25JZFwiLCBcInllYXJcIiBhcyBcInllYXJcIiwgXCJwaG9uZU51bWJlclwiIGFzIFwicGhvbmVOdW1iZXJcIiwgXCJiYWNrdXBSZWdpb25JZFwiIGFzIFwiYmFja3VwUmVnaW9uXCIsIFwiSU5URVJOQUxfTkFNRVwiIGFzIFwic3BlY2lhbFJlZ2lvbklkXCIgZnJvbSBcInVzZXJDYXRlZ29yaWVzXCJgXG4gICAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdChcImdldFNpbmdsZU9yTnVsbCBzaG91bGQgc2VsZWN0IGFsbCBjb2x1bW5zIG9mIHJvb3QgdHlwZSB3aXRoIGNvcnJlY3QgYWxpYXNlc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpO1xuXG4gICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgYXdhaXQgcXVlcnkuZ2V0U2luZ2xlT3JOdWxsKCk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLFxuICAgICAgICAgICAgYHNlbGVjdCBcImlkXCIgYXMgXCJpZFwiLCBcIm5hbWVcIiBhcyBcIm5hbWVcIiwgXCJyZWdpb25JZFwiIGFzIFwicmVnaW9uXCIsIFwicmVnaW9uSWRcIiBhcyBcInJlZ2lvbklkXCIsIFwieWVhclwiIGFzIFwieWVhclwiLCBcInBob25lTnVtYmVyXCIgYXMgXCJwaG9uZU51bWJlclwiLCBcImJhY2t1cFJlZ2lvbklkXCIgYXMgXCJiYWNrdXBSZWdpb25cIiwgXCJJTlRFUk5BTF9OQU1FXCIgYXMgXCJzcGVjaWFsUmVnaW9uSWRcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcImBcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwiZ2V0U2luZ2xlT3JVbmRlZmluZWQgc2hvdWxkIHNlbGVjdCBhbGwgY29sdW1ucyBvZiByb290IHR5cGUgd2l0aCBjb3JyZWN0IGFsaWFzZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5LmdldFNpbmdsZU9yVW5kZWZpbmVkKCk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLFxuICAgICAgICAgICAgYHNlbGVjdCBcImlkXCIgYXMgXCJpZFwiLCBcIm5hbWVcIiBhcyBcIm5hbWVcIiwgXCJyZWdpb25JZFwiIGFzIFwicmVnaW9uXCIsIFwicmVnaW9uSWRcIiBhcyBcInJlZ2lvbklkXCIsIFwieWVhclwiIGFzIFwieWVhclwiLCBcInBob25lTnVtYmVyXCIgYXMgXCJwaG9uZU51bWJlclwiLCBcImJhY2t1cFJlZ2lvbklkXCIgYXMgXCJiYWNrdXBSZWdpb25cIiwgXCJJTlRFUk5BTF9OQU1FXCIgYXMgXCJzcGVjaWFsUmVnaW9uSWRcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcImBcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGhhbmRsZSB3aGVyZSBleGlzdHMgb24gc2FtZSB0YWJsZSBhcyBtYWluIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS53aGVyZUV4aXN0cyhVc2VyLCAoc3ViUXVlcnkpID0+IHtcbiAgICAgICAgICAgIHN1YlF1ZXJ5LndoZXJlQ29sdW1uKFwic3RhdHVzXCIsIFwiPVwiLCBcInN0YXR1c1wiKS53aGVyZUNvbHVtbihcImlkXCIsIFwiPD5cIiwgXCJpZFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nLFxuICAgICAgICAgICAgYHNlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgYXMgXCJzdWJxdWVyeTAkdXNlcnNcIiB3aGVyZSBcInN1YnF1ZXJ5MCR1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiA9IFwidXNlcnNcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCIgYW5kIFwic3VicXVlcnkwJHVzZXJzXCIuXCJpZFwiIDw+IFwidXNlcnNcIi5cImlkXCIpYFxuICAgICAgICApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGhhbmRsZSB0d28gbGV2ZWxzIG9mIHdoZXJlIGV4aXN0c1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVFeGlzdHMoVXNlciwgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICBzdWJRdWVyeS53aGVyZUNvbHVtbihcInN0YXR1c1wiLCBcIj1cIiwgXCJzdGF0dXNcIikud2hlcmVDb2x1bW4oXCJpZFwiLCBcIjw+XCIsIFwiaWRcIik7XG5cbiAgICAgICAgICAgIHN1YlF1ZXJ5LndoZXJlRXhpc3RzKFVzZXIsIChzdWJRdWVyeTIpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJRdWVyeTIud2hlcmVDb2x1bW4oXCJzdGF0dXNcIiwgXCI9XCIsIFwic3RhdHVzXCIpLndoZXJlQ29sdW1uKFwiaWRcIiwgXCI8PlwiLCBcImlkXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICBxdWVyeVN0cmluZyxcbiAgICAgICAgICAgIGBzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBleGlzdHMgKHNlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIGFzIFwic3VicXVlcnkwJHVzZXJzXCIgd2hlcmUgXCJzdWJxdWVyeTAkdXNlcnNcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCIgPSBcInVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiIGFuZCBcInN1YnF1ZXJ5MCR1c2Vyc1wiLlwiaWRcIiA8PiBcInVzZXJzXCIuXCJpZFwiIGFuZCBleGlzdHMgKHNlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIGFzIFwic3VicXVlcnkwJHN1YnF1ZXJ5MCR1c2Vyc1wiIHdoZXJlIFwic3VicXVlcnkwJHN1YnF1ZXJ5MCR1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiA9IFwic3VicXVlcnkwJHVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiIGFuZCBcInN1YnF1ZXJ5MCRzdWJxdWVyeTAkdXNlcnNcIi5cImlkXCIgPD4gXCJzdWJxdWVyeTAkdXNlcnNcIi5cImlkXCIpKWBcbiAgICAgICAgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcImdldFNpbmdsZU9yTnVsbCBzaG91bGQgc2VsZWN0IGFsbCBjb2x1bW5zIG9mIHJvb3QgdHlwZSB3aXRoIGNvcnJlY3QgYWxpYXNlc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpO1xuXG4gICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgYXdhaXQgcXVlcnkuZ2V0U2luZ2xlT3JOdWxsKCk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLFxuICAgICAgICAgICAgYHNlbGVjdCBcImlkXCIgYXMgXCJpZFwiLCBcIm5hbWVcIiBhcyBcIm5hbWVcIiwgXCJyZWdpb25JZFwiIGFzIFwicmVnaW9uXCIsIFwicmVnaW9uSWRcIiBhcyBcInJlZ2lvbklkXCIsIFwieWVhclwiIGFzIFwieWVhclwiLCBcInBob25lTnVtYmVyXCIgYXMgXCJwaG9uZU51bWJlclwiLCBcImJhY2t1cFJlZ2lvbklkXCIgYXMgXCJiYWNrdXBSZWdpb25cIiwgXCJJTlRFUk5BTF9OQU1FXCIgYXMgXCJzcGVjaWFsUmVnaW9uSWRcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcImBcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwiZ2V0U2luZ2xlT3JVbmRlZmluZWQgc2hvdWxkIHNlbGVjdCBhbGwgY29sdW1ucyBvZiByb290IHR5cGUgd2l0aCBjb3JyZWN0IGFsaWFzZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5LmdldFNpbmdsZU9yVW5kZWZpbmVkKCk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLFxuICAgICAgICAgICAgYHNlbGVjdCBcImlkXCIgYXMgXCJpZFwiLCBcIm5hbWVcIiBhcyBcIm5hbWVcIiwgXCJyZWdpb25JZFwiIGFzIFwicmVnaW9uXCIsIFwicmVnaW9uSWRcIiBhcyBcInJlZ2lvbklkXCIsIFwieWVhclwiIGFzIFwieWVhclwiLCBcInBob25lTnVtYmVyXCIgYXMgXCJwaG9uZU51bWJlclwiLCBcImJhY2t1cFJlZ2lvbklkXCIgYXMgXCJiYWNrdXBSZWdpb25cIiwgXCJJTlRFUk5BTF9OQU1FXCIgYXMgXCJzcGVjaWFsUmVnaW9uSWRcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcImBcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGdldCBjb3JyZWN0IGNvbHVtbiBmb3IgbmVzdGVkIHF1ZXJpZXNcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGxldCBuZXN0ZWRTdGF0dXNDb2x1bW5OYW1lO1xuICAgICAgICBsZXQgbmVzdGVkVXNlckNhdGVnb3J5WWVhcjtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVFeGlzdHMoVXNlciwgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICBzdWJRdWVyeS5pbm5lckpvaW5Db2x1bW4oXCJjYXRlZ29yeVwiKS5zZWxlY3QoXCJjYXRlZ29yeS5pZFwiKS5zZWxlY3QoXCJzdGF0dXNcIik7XG5cbiAgICAgICAgICAgIG5lc3RlZFN0YXR1c0NvbHVtbk5hbWUgPSBzdWJRdWVyeS5nZXRDb2x1bW5BbGlhcyhcInN0YXR1c1wiKTtcbiAgICAgICAgICAgIG5lc3RlZFVzZXJDYXRlZ29yeVllYXIgPSBzdWJRdWVyeS5nZXRDb2x1bW5BbGlhcyhcImNhdGVnb3J5LnllYXJcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHF1ZXJ5LnRvUXVlcnkoKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwobmVzdGVkU3RhdHVzQ29sdW1uTmFtZSwgJ1wic3VicXVlcnkwJHVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiJyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChuZXN0ZWRVc2VyQ2F0ZWdvcnlZZWFyLCAnXCJzdWJxdWVyeTAkY2F0ZWdvcnlcIi5cInllYXJcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGJlIGFibGUgdG8gcmVmZXIgdG8gbWFpbiBxdWVyeSBpbiByYXcgd2hlcmUgZXhpc3RzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcbiAgICAgICAgcXVlcnkud2hlcmVFeGlzdHMoVXNlciwgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICBzdWJRdWVyeS53aGVyZUNvbHVtbihcInN0YXR1c1wiLCBcIj1cIiwgXCJzdGF0dXNcIikud2hlcmVDb2x1bW4oXCJpZFwiLCBcIjw+XCIsIFwiaWRcIikud2hlcmVSYXcoYEVYSVNUUyAoU0VMRUNUIDEgRlJPTSB1c2VycyBhcyB1c2VyczIgV0hFUkUgJHtxdWVyeS5nZXRDb2x1bW5BbGlhcyhcbiAgICAgICAgICAgICAgICBcInN0YXR1c1wiXG4gICAgICAgICAgICApfSA9IHVzZXJzMi5cIndlaXJkRGF0YWJhc2VOYW1lXCIgQU5EICR7cXVlcnkuZ2V0Q29sdW1uQWxpYXMoXCJpZFwiKX0gPD4gdXNlcnMyLlwiaWRcIilcbiAgICAgICAgICAgIGApO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICBgc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgZXhpc3RzIChzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBhcyBcInN1YnF1ZXJ5MCR1c2Vyc1wiIHdoZXJlIFwic3VicXVlcnkwJHVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gXCJ1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiBhbmQgXCJzdWJxdWVyeTAkdXNlcnNcIi5cImlkXCIgPD4gXCJ1c2Vyc1wiLlwiaWRcIiBhbmQgRVhJU1RTIChTRUxFQ1QgMSBGUk9NIHVzZXJzIGFzIHVzZXJzMiBXSEVSRSBcInVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gdXNlcnMyLlwid2VpcmREYXRhYmFzZU5hbWVcIiBBTkQgXCJ1c2Vyc1wiLlwiaWRcIiA8PiB1c2VyczIuXCJpZFwiKVxuICAgICAgICAgICAgKWBcbiAgICAgICAgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBiZSBhYmxlIHRvIHJlZmVyIHRvIG1haW4gcXVlcnkgaW4gd2hlcmUgZXhpc3RzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcbiAgICAgICAgcXVlcnkud2hlcmVFeGlzdHMoVXNlciwgKHN1YlF1ZXJ5MSkgPT4ge1xuICAgICAgICAgICAgc3ViUXVlcnkxLndoZXJlQ29sdW1uKFwic3RhdHVzXCIsIFwiPVwiLCBcInN0YXR1c1wiKTsgLy8gQ29tcGFyZXMgc3ViUXVlcnkxIHdpdGggaXRzIHBhcmVudCAocXVlcnkpXG5cbiAgICAgICAgICAgIHN1YlF1ZXJ5MS53aGVyZUV4aXN0cyhVc2VyLCAoc3ViUXVlcnkyKSA9PiB7XG4gICAgICAgICAgICAgICAgc3ViUXVlcnkyLndoZXJlQ29sdW1uKHN1YlF1ZXJ5Mi5nZXRDb2x1bW4oXCJzdGF0dXNcIiksIFwiPVwiLCBxdWVyeS5nZXRDb2x1bW4oXCJzdGF0dXNcIikpOyAvLyBDb21wYXJlcyBzdWJRdWVyeTIgd2l0aCB0aGUgZmlyc3QgcGFyZW50IChxdWVyeSlcblxuICAgICAgICAgICAgICAgIHN1YlF1ZXJ5Mi53aGVyZUV4aXN0cyhVc2VyLCAoc3ViUXVlcnkzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN1YlF1ZXJ5My53aGVyZUNvbHVtbihzdWJRdWVyeTMuZ2V0Q29sdW1uKFwic3RhdHVzXCIpLCBcIj1cIiwgc3ViUXVlcnkxLmdldENvbHVtbihcInN0YXR1c1wiKSk7IC8vIENvbXBhcmVzIHN1YlF1ZXJ5MyB3aXRoIHRoZSBzZWNvbmQgcGFyZW50IChzdWJRdWVyeTEpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nLFxuICAgICAgICAgICAgYHNlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgYXMgXCJzdWJxdWVyeTAkdXNlcnNcIiB3aGVyZSBcInN1YnF1ZXJ5MCR1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiA9IFwidXNlcnNcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCIgYW5kIGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgYXMgXCJzdWJxdWVyeTAkc3VicXVlcnkwJHVzZXJzXCIgd2hlcmUgXCJzdWJxdWVyeTAkc3VicXVlcnkwJHVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gXCJ1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiBhbmQgZXhpc3RzIChzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBhcyBcInN1YnF1ZXJ5MCRzdWJxdWVyeTAkc3VicXVlcnkwJHVzZXJzXCIgd2hlcmUgXCJzdWJxdWVyeTAkc3VicXVlcnkwJHN1YnF1ZXJ5MCR1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiA9IFwic3VicXVlcnkwJHVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiKSkpYFxuICAgICAgICApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiZ2V0Q29sdW1uQWxpYXNcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcblxuICAgICAgICBpdChcInNob3VsZCByZXR1cm4gcm9vdCBjb2x1bW4gbmFtZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5LmdldENvbHVtbkFsaWFzKFwiaWRcIiksICdcInVzZXJDYXRlZ29yaWVzXCIuXCJpZFwiJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHJldHVybiByb290IGNvbHVtbiBuYW1lIHdpdGggbWFwcGVkIG5hbWVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChxdWVyeS5nZXRDb2x1bW5BbGlhcyhcInNwZWNpYWxSZWdpb25JZFwiKSwgJ1widXNlckNhdGVnb3JpZXNcIi5cIklOVEVSTkFMX05BTUVcIicpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCByZXR1cm4gbmFtZWQgam9pbmVkIGNvbHVtbiBuYW1lXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJDYXRlZ29yeSkuaW5uZXJKb2luKFwidXNlclwiLCBVc2VyLCBcImNhdGVnb3J5SWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnkuZ2V0Q29sdW1uQWxpYXMoXCJ1c2VyLmlkXCIpLCAnXCJ1c2VyXCIuXCJpZFwiJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHJldHVybiBuYW1lZCBqb2luZWQgY29sdW1uIG5hbWUgd2l0aCBtYXBwZWQgbmFtZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpLmlubmVySm9pbihcInVzZXJcIiwgVXNlciwgXCJjYXRlZ29yeUlkXCIsIFwiPVwiLCBcImlkXCIpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5LmdldENvbHVtbkFsaWFzKFwidXNlci5zdGF0dXNcIiksICdcInVzZXJcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCInKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgcmV0dXJuIHR3byBsZXZlbHMgam9pbmVkIGNvbHVtbiBuYW1lXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmlubmVySm9pbkNvbHVtbihcImNhdGVnb3J5XCIpLmlubmVySm9pbkNvbHVtbihcImNhdGVnb3J5LnJlZ2lvblwiKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChxdWVyeS5nZXRDb2x1bW5BbGlhcyhcImNhdGVnb3J5LnJlZ2lvbi5jb2RlXCIpLCAnXCJjYXRlZ29yeV9yZWdpb25cIi5cImNvZGVcIicpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCByZXR1cm4gc2VsZWN0IHdpdGggYWxpYXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KTtcbiAgICAgICAgICAgIHF1ZXJ5LnNlbGVjdFJhdyhcImhhc2hcIiwgU3RyaW5nLCBgaGFzaEZ1bmN0aW9uKCR7cXVlcnkuZ2V0Q29sdW1uQWxpYXMoXCJuYW1lXCIpfSlgKS5zZWxlY3QoXCJpZFwiKTtcblxuICAgICAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG5cbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAoaGFzaEZ1bmN0aW9uKFwidXNlckNhdGVnb3JpZXNcIi5cIm5hbWVcIikpIGFzIFwiaGFzaFwiLCBcInVzZXJDYXRlZ29yaWVzXCIuXCJpZFwiIGFzIFwiaWRcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcIicpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiZGlzdGluY3RPblwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGRpc3RpbmN0IG9uIDEgY29sdW1uXCIsIChkb25lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpLnNlbGVjdChcImlkXCIpLmRpc3RpbmN0T24oW1wibmFtZVwiXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IGRpc3RpbmN0IG9uIChcInVzZXJDYXRlZ29yaWVzXCIuXCJuYW1lXCIpIFwidXNlckNhdGVnb3JpZXNcIi5cImlkXCIgYXMgXCJpZFwiIGZyb20gXCJ1c2VyQ2F0ZWdvcmllc1wiJyk7XG5cbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgZGlzdGluY3Qgb24gMiBjb2x1bW5zXCIsIChkb25lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpLnNlbGVjdChcImlkXCIpLmRpc3RpbmN0T24oW1wibmFtZVwiLCBcInBob25lTnVtYmVyXCJdKTtcblxuICAgICAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgZGlzdGluY3Qgb24gKFwidXNlckNhdGVnb3JpZXNcIi5cIm5hbWVcIiwgXCJ1c2VyQ2F0ZWdvcmllc1wiLlwicGhvbmVOdW1iZXJcIikgXCJ1c2VyQ2F0ZWdvcmllc1wiLlwiaWRcIiBhcyBcImlkXCIgZnJvbSBcInVzZXJDYXRlZ29yaWVzXCInKTtcblxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCBkaXN0aW5jdCBvbiAxIGNvbHVtbiB3aXRoIG1hcHBpbmdcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJDYXRlZ29yeSkuc2VsZWN0KFwiaWRcIikuZGlzdGluY3RPbihbXCJzcGVjaWFsUmVnaW9uSWRcIl0pO1xuXG4gICAgICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBkaXN0aW5jdCBvbiAoXCJ1c2VyQ2F0ZWdvcmllc1wiLlwiSU5URVJOQUxfTkFNRVwiKSBcInVzZXJDYXRlZ29yaWVzXCIuXCJpZFwiIGFzIFwiaWRcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcIicpO1xuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGRpc3RpbmN0IG9uIGNvbHVtbnMgd2l0aCBqb2luIGFuZCB3aXRoIG1hcHBpbmdcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmlubmVySm9pbihcImNhdGVnb3J5XCIsIFVzZXJDYXRlZ29yeSwgXCJpZFwiLCBcIj1cIiwgXCJjYXRlZ29yeUlkXCIpLnNlbGVjdChcImlkXCIpLmRpc3RpbmN0T24oW1wibmFtZVwiLCBcImNhdGVnb3J5LmlkXCIsIFwiY2F0ZWdvcnkuc3BlY2lhbFJlZ2lvbklkXCJdKTtcblxuICAgICAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICAgICAgJ3NlbGVjdCBkaXN0aW5jdCBvbiAoXCJ1c2Vyc1wiLlwibmFtZVwiLCBcImNhdGVnb3J5XCIuXCJpZFwiLCBcImNhdGVnb3J5XCIuXCJJTlRFUk5BTF9OQU1FXCIpIFwidXNlcnNcIi5cImlkXCIgYXMgXCJpZFwiIGZyb20gXCJ1c2Vyc1wiIGlubmVyIGpvaW4gXCJ1c2VyQ2F0ZWdvcmllc1wiIGFzIFwiY2F0ZWdvcnlcIiBvbiBcImNhdGVnb3J5XCIuXCJpZFwiID0gXCJ1c2Vyc1wiLlwiY2F0ZWdvcnlJZFwiJ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBkZXNjcmliZShcIm1hcFByb3BlcnR5TmFtZVRvQ29sdW1uTmFtZVwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHJldHVybiBhbGlhc2VkIG5hbWVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KSBhcyBUeXBlZFF1ZXJ5QnVpbGRlcjxVc2VyQ2F0ZWdvcnksIFVzZXJDYXRlZ29yeSwgVXNlckNhdGVnb3J5PjtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtbk5hbWUgPSBxdWVyeS5tYXBQcm9wZXJ0eU5hbWVUb0NvbHVtbk5hbWUoXCJzcGVjaWFsUmVnaW9uSWRcIik7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoY29sdW1uTmFtZSwgXCJJTlRFUk5BTF9OQU1FXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCByZXR1cm4gbmFtZSB3aGVuIG5vIGFsaWFzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJDYXRlZ29yeSkgYXMgVHlwZWRRdWVyeUJ1aWxkZXI8VXNlckNhdGVnb3J5LCBVc2VyQ2F0ZWdvcnksIFVzZXJDYXRlZ29yeT47XG4gICAgICAgICAgICBjb25zdCBjb2x1bW5OYW1lID0gcXVlcnkubWFwUHJvcGVydHlOYW1lVG9Db2x1bW5OYW1lKFwibmFtZVwiKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChjb2x1bW5OYW1lLCBcIm5hbWVcIik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKFwibWFwQ29sdW1uTmFtZVRvUHJvcGVydHlOYW1lXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgcmV0dXJuIGFsaWFzZWQgbmFtZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpIGFzIFR5cGVkUXVlcnlCdWlsZGVyPFVzZXJDYXRlZ29yeSwgVXNlckNhdGVnb3J5LCBVc2VyQ2F0ZWdvcnk+O1xuICAgICAgICAgICAgY29uc3QgY29sdW1uTmFtZSA9IHF1ZXJ5Lm1hcENvbHVtbk5hbWVUb1Byb3BlcnR5TmFtZShcIklOVEVSTkFMX05BTUVcIik7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoY29sdW1uTmFtZSwgXCJzcGVjaWFsUmVnaW9uSWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHJldHVybiBuYW1lIHdoZW4gbm8gYWxpYXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KSBhcyBUeXBlZFF1ZXJ5QnVpbGRlcjxVc2VyQ2F0ZWdvcnksIFVzZXJDYXRlZ29yeSwgVXNlckNhdGVnb3J5PjtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtbk5hbWUgPSBxdWVyeS5tYXBDb2x1bW5OYW1lVG9Qcm9wZXJ0eU5hbWUoXCJuYW1lXCIpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGNvbHVtbk5hbWUsIFwibmFtZVwiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgZGVzY3JpYmUoXCJtYXBDb2x1bW5zVG9Qcm9wZXJ0aWVzXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgbWFwXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJDYXRlZ29yeSkgYXMgVHlwZWRRdWVyeUJ1aWxkZXI8VXNlckNhdGVnb3J5LCBVc2VyQ2F0ZWdvcnksIFVzZXJDYXRlZ29yeT47XG4gICAgICAgICAgICBjb25zdCBpdGVtID0geyBJTlRFUk5BTF9OQU1FOiBcImludGVybmFsIG5hbWVcIiwgbmFtZTogXCJuYW1lXCIgfSBhcyBhbnk7XG4gICAgICAgICAgICBxdWVyeS5tYXBDb2x1bW5zVG9Qcm9wZXJ0aWVzKGl0ZW0pO1xuICAgICAgICAgICAgYXNzZXJ0LmRlZXBFcXVhbChpdGVtLCB7IHNwZWNpYWxSZWdpb25JZDogXCJpbnRlcm5hbCBuYW1lXCIsIG5hbWU6IFwibmFtZVwiIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBkZXNjcmliZShcIm1hcFByb3BlcnRpZXNUb0NvbHVtbnNcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcblxuICAgICAgICBpdChcInNob3VsZCBtYXBcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KSBhcyBUeXBlZFF1ZXJ5QnVpbGRlcjxVc2VyQ2F0ZWdvcnksIFVzZXJDYXRlZ29yeSwgVXNlckNhdGVnb3J5PjtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB7IHNwZWNpYWxSZWdpb25JZDogXCJpbnRlcm5hbCBuYW1lXCIsIG5hbWU6IFwibmFtZVwiIH0gYXMgYW55O1xuICAgICAgICAgICAgcXVlcnkubWFwUHJvcGVydGllc1RvQ29sdW1ucyhpdGVtKTtcbiAgICAgICAgICAgIGFzc2VydC5kZWVwRXF1YWwoaXRlbSwgeyBJTlRFUk5BTF9OQU1FOiBcImludGVybmFsIG5hbWVcIiwgbmFtZTogXCJuYW1lXCIgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJ1cGRhdGVJdGVtV2l0aFJldHVybmluZ1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHVzZSB3aGVyZSBjbGF1c2VcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgICAgIGF3YWl0IHF1ZXJ5LndoZXJlKFwibmFtZVwiLCBcIm5hbWUxXCIpLnVwZGF0ZUl0ZW1XaXRoUmV0dXJuaW5nKHsgaWQ6IFwibmV3SWRcIiB9KTtcblxuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYHVwZGF0ZSBcInVzZXJzXCIgc2V0IFwiaWRcIiA9ICduZXdJZCcgd2hlcmUgXCJ1c2Vyc1wiLlwibmFtZVwiID0gJ25hbWUxJyByZXR1cm5pbmcgKmApO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwicmVnaXN0ZXJCZWZvcmVVcGRhdGVUcmFuc2Zvcm1cIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcblxuICAgICAgICBhZnRlckVhY2goKCkgPT4ge1xuICAgICAgICAgICAgcmVnaXN0ZXJCZWZvcmVVcGRhdGVUcmFuc2Zvcm0odW5kZWZpbmVkIGFzIGFueSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGNoYW5nZSBpdGVtIHRvIHdoZW4gdXNpbmcgdXBkYXRlSXRlbVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAgICAgcmVnaXN0ZXJCZWZvcmVVcGRhdGVUcmFuc2Zvcm0oKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwibmFtZSBvdmVycmlkZVwiLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgYXdhaXQgcXVlcnkud2hlcmUoXCJuYW1lXCIsIFwibmFtZTFcIikudXBkYXRlSXRlbSh7IGlkOiBcIm5ld0lkXCIgfSk7XG5cbiAgICAgICAgICAgIGFzc2VydC5lcXVhbCgocXVlcnkgYXMgYW55KS5xdWVyeUxvZy50cmltKCksIGB1cGRhdGUgXCJ1c2Vyc1wiIHNldCBcImlkXCIgPSAnbmV3SWQnLCBcIm5hbWVcIiA9ICduYW1lIG92ZXJyaWRlJyB3aGVyZSBcInVzZXJzXCIuXCJuYW1lXCIgPSAnbmFtZTEnYCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGNoYW5nZSBpdGVtIHRvIHdoZW4gdXNpbmcgdXBkYXRlSXRlbVdpdGhSZXR1cm5pbmdcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgICAgIHJlZ2lzdGVyQmVmb3JlVXBkYXRlVHJhbnNmb3JtKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIm5hbWUgb3ZlcnJpZGVcIixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgICAgIGF3YWl0IHF1ZXJ5LndoZXJlKFwibmFtZVwiLCBcIm5hbWUxXCIpLnVwZGF0ZUl0ZW1XaXRoUmV0dXJuaW5nKHsgaWQ6IFwibmV3SWRcIiB9KTtcblxuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYHVwZGF0ZSBcInVzZXJzXCIgc2V0IFwiaWRcIiA9ICduZXdJZCcsIFwibmFtZVwiID0gJ25hbWUgb3ZlcnJpZGUnIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiA9ICduYW1lMScgcmV0dXJuaW5nICpgKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcInJlZ2lzdGVyQmVmb3JlSW5zZXJ0VHJhbnNmb3JtXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG5cbiAgICAgICAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICAgICAgICAgIHJlZ2lzdGVyQmVmb3JlSW5zZXJ0VHJhbnNmb3JtKHVuZGVmaW5lZCBhcyBhbnkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCBjaGFuZ2UgaXRlbSB0byB3aGVuIHVzaW5nIGluc2VydEl0ZW1cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgICAgIHJlZ2lzdGVyQmVmb3JlSW5zZXJ0VHJhbnNmb3JtKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIm5hbWUgb3ZlcnJpZGVcIixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgICAgIGF3YWl0IHF1ZXJ5Lmluc2VydEl0ZW0oeyBpZDogXCJuZXdJZFwiIH0pO1xuXG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLCBgaW5zZXJ0IGludG8gXCJ1c2Vyc1wiIChcImlkXCIsIFwibmFtZVwiKSB2YWx1ZXMgKCduZXdJZCcsICduYW1lIG92ZXJyaWRlJylgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgY2hhbmdlIGl0ZW0gdG8gd2hlbiB1c2luZyBpbnNlcnRJdGVtV2l0aFJldHVybmluZ1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAgICAgcmVnaXN0ZXJCZWZvcmVJbnNlcnRUcmFuc2Zvcm0oKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwibmFtZSBvdmVycmlkZVwiLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgYXdhaXQgcXVlcnkud2hlcmUoXCJuYW1lXCIsIFwibmFtZTFcIikuaW5zZXJ0SXRlbVdpdGhSZXR1cm5pbmcoeyBpZDogXCJuZXdJZFwiIH0pO1xuXG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLCBgaW5zZXJ0IGludG8gXCJ1c2Vyc1wiIChcImlkXCIsIFwibmFtZVwiKSB2YWx1ZXMgKCduZXdJZCcsICduYW1lIG92ZXJyaWRlJykgcmV0dXJuaW5nICpgKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbiJdfQ==
